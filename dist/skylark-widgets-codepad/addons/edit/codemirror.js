/**
 * skylark-widgets-codepad - The skylark code playground widget for showcasing html/css/js.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-codepad/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-query","skylark-codemirror/CodeMirror","../../addon","../../util","../../codepad","skylark-codemirror/mode/xml/xml","skylark-codemirror/mode/css/css","skylark-codemirror/mode/javascript/javascript","skylark-codemirror/mode/htmlmixed/htmlmixed","skylark-codemirror/mode/markdown/markdown","skylark-codemirror/addon/comment/comment","skylark-codemirror/addon/selection/active-line","skylark-codemirror/addon/fold/foldcode","skylark-codemirror/addon/fold/foldgutter","skylark-codemirror/addon/fold/brace-fold","skylark-codemirror/addon/fold/xml-fold","skylark-codemirror/addon/fold/indent-fold","skylark-codemirror/addon/fold/markdown-fold","skylark-codemirror/addon/fold/comment-fold","skylark-codemirror/addon/edit/matchbrackets","skylark-codemirror/addon/edit/closebrackets","skylark-codemirror/addon/edit/trailingspace","skylark-codemirror/addon/search/searchcursor","skylark-codemirror/addon/search/search","skylark-codemirror/addon/search/match-highlighter","skylark-codemirror/addon/dialog/dialog","skylark-codemirror/addon/hint/anyword-hint","skylark-codemirror/addon/hint/javascript-hint","skylark-codemirror/addon/lint/javascript-lint","skylark-codemirror/addon/lint/lint","skylark-codemirror/addon/tern/tern"],function(t,n,l,r,c,o){"use strict";class e extends r{get options(){return{highlightLine:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],pluginCssClass:"codepad-plugin-codemirror"}}_init(){super._init();for(var r=this.coder,o=(this.options,this.editors={},{html:"htmlmixed"}),e=this.options,d=r.$(".codepad-editor"),a=0;a<d.length;a++){var t=n(d[a]).find("textarea"),i=t.data("codepad-type"),s=this.editors[i]=l.fromTextArea(t[0],e);s.setOption("mode",c.getMode(i,"",o)),s.$textarea=t,s.on("change",this.editorChange({type:i}))}this.listenTo(r,"reseted",this.update)}editorChange(o){return()=>{var r=this.editors[o.type];r.$textarea.val(r.getValue()),r.$textarea.trigger("change")}}update(r){var d,a=this.coder.getCodes();for(d in this.editors){let r=this.editors[d],o=a[d],e;e=t.isString(o)?o:o.content||"",r.setValue(e)}}static get categoryName(){return"edit"}static get addonName(){return"codemirror"}}return e.register(o),e});
//# sourceMappingURL=../../sourcemaps/addons/edit/codemirror.js.map
