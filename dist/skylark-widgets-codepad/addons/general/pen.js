/**
 * skylark-widgets-codepad - The skylark code playground widget for showcasing html/css/js.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-widgets/skylark-widgets-codepad/
 * @license MIT
 */
define(["skylark-langx/langx","../../addon","../../util","../../codepad"],function(e,t,s,n){"use strict";class a extends t{_init(){super._init();var e,n,a,i,r=this.coder,d=(this.options,{html:{title:"HTML",classChecker:"codepad-has-html"},css:{title:"CSS",classChecker:"codepad-has-css"},js:{title:"JavaScript",classChecker:"codepad-has-js"},console:{title:"Console",classChecker:"codepad-plugin-console"}}),o=[];for(e in d)r.$container.classList.contains(d[e].classChecker)&&o.push(r.$container.querySelector(".codepad-pane-"+e));this.resizablePanes=[];for(let s=0;s<o.length;s++){let t;for(let e=0;e<o[s].classList.length;e++)if(-1!==o[s].classList[e].indexOf("codepad-pane-")){t=o[s].classList[e].replace("codepad-pane-","");break}t&&(n={container:o[s],expander:void 0},this.resizablePanes.push(n),(a=document.createElement("div")).classList.add("codepad-pane-title"),a.innerHTML=d[t].title||t,(i=o[s].firstElementChild).insertBefore(a,i.firstChild),0<s)&&(n.expander=document.createElement("div"),n.expander.classList.add("codepad-plugin-pen-expander"),n.expander.addEventListener("mousedown",this.startExpand.bind(this,r)),i.insertBefore(n.expander,a))}}startExpand(e,t){var s=this.resizablePanes.filter(e=>e.expander===t.target).shift(),n=this.resizablePanes[this.resizablePanes.indexOf(s)-1],a=100/parseInt(window.getComputedStyle(s.container.parentNode).width,10);s.container.parentNode.style.display="none",s.startX=t.clientX,s.startWidth=parseFloat(window.getComputedStyle(s.container).width,10),n.startWidth=parseFloat(window.getComputedStyle(n.container).width,10),s.container.parentNode.style.display="",s.mousemove=this.doDrag.bind(this,s,n,a),s.mouseup=this.stopDrag.bind(this,s),document.addEventListener("mousemove",s.mousemove,!1),document.addEventListener("mouseup",s.mouseup,!1)}doDrag(e,t,s,n){var a=t.startWidth+(n.clientX-e.startX)*s,n=e.startWidth-(n.clientX-e.startX)*s;10<=a&&10<=n&&(e.container.style.maxWidth="none",t.container.style.maxWidth="none",t.container.style.width=a+"%",e.container.style.width=n+"%")}stopDrag(e,t){document.removeEventListener("mousemove",e.mousemove,!1),document.removeEventListener("mouseup",e.mouseup,!1)}static get categoryName(){return"general"}static get addonName(){return"pen"}}return a.register(n),a});
//# sourceMappingURL=../../sourcemaps/addons/general/pen.js.map
