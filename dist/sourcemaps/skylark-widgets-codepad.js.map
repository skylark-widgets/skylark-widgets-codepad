{"version":3,"sources":["skylark-widgets-codepad.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../skylark-widgets-codepad.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n\r\n// Distributed under an MIT license: https://codemirror.net/LICENSE\r\n\r\ndefine(\"skylark-widgets-codepad/util\",[\"skylark-langx/langx\",\"skylark-net-http/Xhr\"],function(s,n){\"use strict\";function a(e,t,n){n[e](t,function(n,e,r,i,o){return function(e,t){e&&i.push(e),++n<r.length?a(n,t,r,i,o):o(i,t)}}.apply(this,arguments))}var l={html:\"html\",css:\"css\",js:\"javascript\",less:\"less\",styl:\"stylus\",coffee:\"coffeescript\"};return{fetch:function(e,t){n.get(e).then(function(e){t(null,e)},function(e){t(e)})},seq:function(e,t,n=function(){}){var r=[];if(!e.length)return n(r,t);a(0,t,e,r,n)},log:function(){console.log(arguments)},getMode:function(e=\"\",t=\"\",n={}){var r,i,o=s.mixin({},l,n);for(r in o){var a=r.length;if(t.slice(-+a)===\".\"+r)return o[r]}for(i in o)if(e===i)return o[i];return e}}}),define(\"skylark-widgets-codepad/template\",[],function(){\"use strict\";return{container:function(){return`\n    <ul class=\"codepad-nav\">\n      <li class=\"codepad-nav-item codepad-nav-item-result\">\n        <a href=\"#\" data-codepad-type=\"result\">\n          Result\n        </a>\n      </li>\n      <li class=\"codepad-nav-item codepad-nav-item-html\">\n        <a href=\"#\" data-codepad-type=\"html\">\n          HTML\n        </a>\n      </li>\n      <li class=\"codepad-nav-item codepad-nav-item-css\">\n        <a href=\"#\" data-codepad-type=\"css\">\n          CSS\n        </a>\n      </li>\n      <li class=\"codepad-nav-item codepad-nav-item-js\">\n        <a href=\"#\" data-codepad-type=\"js\">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class=\"codepad-pane codepad-pane-result\"><iframe></iframe></div>\n    <div class=\"codepad-pane codepad-pane-html\"></div>\n    <div class=\"codepad-pane codepad-pane-css\"></div>\n    <div class=\"codepad-pane codepad-pane-js\"></div>\n  `},paneActiveClass:function(e){return\"codepad-pane-active-\"+e},containerClass:function(){return\"codepad\"},hasFileClass:function(e){return\"codepad-has-\"+e},editorClass:function(e){return\"codepad-editor codepad-editor-\"+e},editorContent:function(e){return`\n    <textarea data-codepad-type=\"${e}\" ></textarea>\n    <div class=\"codepad-status\"></div>\n  `},statusMessage:function(e){return`\n    <p>${e}</p>\n  `},statusClass:function(e){return\"codepad-status-\"+e},statusActiveClass:function(e){return\"codepad-status-active-\"+e},pluginClass:function(e){return\"codepad-plugin-\"+e},statusLoading:function(e){return`Loading <strong>${e}</strong>..`},statusFetchError:function(e){return`There was an error loading <strong>${e}</strong>.`}}}),define(\"skylark-widgets-codepad/addons\",[],function(){return{general:{},html:{},css:{},js:{},edit:{}}}),define(\"skylark-widgets-codepad/codepad\",[\"skylark-langx/skylark\",\"skylark-langx/langx\",\"skylark-widgets-base/widget\",\"skylark-domx-styler\",\"skylark-domx-data\",\"skylark-domx-noder\",\"./util\",\"./template\",\"./addons\"],function(e,r,t,o,i,a,n,s,l){\"use strict\";class c extends t{get klassName(){return\"Codepad\"}get pluginName(){return\"lark.Codepad\"}get options(){return{files:[],showBlank:!1,runScripts:!0,pane:\"result\",debounce:250,addons:{general:[\"render\"]}}}_init(){var e,t=this.options,n=(!1===t.runScripts&&t.addons.gerneral.push(\"scriptless\"),super._init(),this._cached={html:null,css:null,js:null},this.$container=this._elm,this._paneActive=t.pane);this._velm.html(s.container()).addClass(s.containerClass()).addClass(s.paneActiveClass(n)).on(\"change\",r.debounce(this.change.bind(this),t.debounce)).on(\"click\",this.pane.bind(this)),this._$status={};for(e of[\"html\",\"css\",\"js\"])!1!==this.options.codes[e]&&this._markup(e);this._setCodes(this.options.codes)}_startup(){var e=this.options;if(this.paneActive=this._paneActive,e.showBlank)for(var t of[\"html\",\"css\",\"js\"])this._velm.addClass(s.hasFileClass(t))}_markup(e){var t=this._elm,n=this.$().find(\".codepad-pane-\"+e);n.append(a.createElement(\"div\",{innerHTML:s.editorContent(e),className:s.editorClass(e)})),this._$status[e]=n.find(\".codepad-status\"),o.addClass(t,s.hasFileClass(e))}_load(e){var t=this._cached[e]||{},t=r.isString(t)?t:t.content||\"\";this.$(`.codepad-pane-${e} textarea`).val(t)}change(e){var t,n=i.data(e.target,\"codepad-type\");n&&(t=this._cached)[n]!==e.target.value&&(t[n]=e.target.value,this.emit(\"changed\",{type:n,file:i.data(e.target,\"codepad-file\"),content:t[n]}))}getCodes(){return r.clone(this._cached)}_setCodes(e){var t,n=this._cached;n.html=e.html||null,n.css=e.css||null,n.js=e.js||null;for(t of[\"html\",\"css\",\"js\"])this._load(t)}resetCodes(e){return this._setCodes(e),this.emit(\"reseted\"),this}errors(e,t){this.status(\"error\",e,t)}pane(e){var t,n;i.data(e.target,\"codepad-type\")&&(t=this._paneActive,n=this._paneActive=i.data(e.target,\"codepad-type\"),this.elmx().removeClass(s.paneActiveClass(t)).addClass(s.paneActiveClass(n)),e.preventDefault())}status(e=\"error\",t=[],n={}){if(!t.length)return this.clearStatus(e,n);var r=this._get(\"$status\"),i=(o.addClass(r[n.type],s.statusClass(e)),o.addClass(this._elm,s.statusActiveClass(n.type)),\"\");t.forEach(function(e){i+=s.statusMessage(e)}),r[n.type].innerHTML=i}clearStatus(e,t){var n=this._get(\"$status\");o.removeClass(n[t.type],s.statusClass(e)),o.removeClass(this._elm,s.statusActiveClass(t.type)),n[t.type].innerHTML=\"\"}}return c.addons=l,e.attach(\"widgets.Codepad\",c)}),define(\"skylark-widgets-base/addon\",[\"skylark-langx-objects\",\"skylark-langx/Evented\",\"./base\"],function(n,e,t){e=e.inherit({_construct:function(e,t){this._widget=e,Object.defineProperty(this,\"options\",{value:n.mixin({},this.options,t,!0)}),this._init&&this._init()}});return e.register=function(e){var t=this.categoryName,n=this.addonName;t&&n&&(e.addons=e.addons||{},e.addons[t]=e.addons[t]||{},e.addons[t][n]=this)},t.Addon=e}),define(\"skylark-widgets-codepad/addon\",[\"skylark-domx-styler\",\"skylark-widgets-base/addon\"],function(e,t){return class extends t{_init(){this.coder=this._widget,this.options.pluginCssClass=this.options.pluginClass||\"codepad-plugin-\"+this.constructor.addonName,this.options.pluginCssClass&&e.addClass(this._widget._elm,this.options.pluginCssClass)}}}),define(\"skylark-codemirror/mode/xml/xml\",[\"../../CodeMirror\"],function(C){var S={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},F={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};C.defineMode(\"xml\",function(e,t){var n,a,o,s=e.indentUnit,l={},r=t.htmlMode?S:F;for(n in r)l[n]=r[n];for(n in t)l[n]=t[n];function c(t,n){function e(e){return(n.tokenize=e)(t,n)}var r=t.next();return\"<\"==r?t.eat(\"!\")?t.eat(\"[\")?t.match(\"CDATA[\")?e(i(\"atom\",\"]]>\")):null:t.match(\"--\")?e(i(\"comment\",\"--\\x3e\")):t.match(\"DOCTYPE\",!0,!0)?(t.eatWhile(/[\\w\\._\\-]/),e(function r(i){return function(e,t){for(var n;null!=(n=e.next());){if(\"<\"==n)return t.tokenize=r(i+1),t.tokenize(e,t);if(\">\"==n){if(1!=i)return t.tokenize=r(i-1),t.tokenize(e,t);t.tokenize=c;break}}return\"meta\"}}(1))):null:t.eat(\"?\")?(t.eatWhile(/[\\w\\._\\-]/),n.tokenize=i(\"meta\",\"?>\"),\"meta\"):(a=t.eat(\"/\")?\"closeTag\":\"openTag\",n.tokenize=d,\"tag bracket\"):\"&\"==r?(t.eat(\"#\")?t.eat(\"x\")?t.eatWhile(/[a-fA-F\\d]/)&&t.eat(\";\"):t.eatWhile(/[\\d]/)&&t.eat(\";\"):t.eatWhile(/[\\w\\.\\-:]/)&&t.eat(\";\"))?\"atom\":\"error\":(t.eatWhile(/[^&<]/),null)}function d(e,t){var n,r,i=e.next();return\">\"==i||\"/\"==i&&e.eat(\">\")?(t.tokenize=c,a=\">\"==i?\"endTag\":\"selfcloseTag\",\"tag bracket\"):\"=\"==i?(a=\"equals\",null):\"<\"==i?(t.tokenize=c,t.state=p,t.tagName=t.tagStart=null,(n=t.tokenize(e,t))?n+\" tag error\":\"tag error\"):/[\\'\\\"]/.test(i)?(t.tokenize=(r=i,o.isInAttribute=!0,o),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/),\"word\");function o(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=d;break}return\"string\"}}function i(n,r){return function(e,t){for(;!e.eol();){if(e.match(r)){t.tokenize=c;break}e.next()}return n}}function u(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function m(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;m(e)}}function p(e,t,n){return\"openTag\"==e?(n.tagStart=t.column(),h):\"closeTag\"==e?g:p}function h(e,t,n){return\"word\"==e?(n.tagName=t.current(),o=\"tag\",k):l.allowMissingTagName&&\"endTag\"==e?(o=\"tag bracket\",k(e,0,n)):(o=\"error\",h)}function g(e,t,n){var r;return\"word\"==e?(r=t.current(),n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(o=\"tag\",x):(o=\"tag error\",v)):l.allowMissingTagName&&\"endTag\"==e?(o=\"tag bracket\",x(e,0,n)):(o=\"error\",v)}function x(e,t,n){return\"endTag\"!=e?(o=\"error\",x):(m(n),p)}function v(e,t,n){return o=\"error\",x(e,0,n)}function k(e,t,n){var r,i;return\"word\"==e?(o=\"attribute\",y):\"endTag\"==e||\"selfcloseTag\"==e?(r=n.tagName,i=n.tagStart,n.tagName=n.tagStart=null,\"selfcloseTag\"==e||l.autoSelfClosers.hasOwnProperty(r)?f(n,r):(f(n,r),n.context=new u(n,r,i==n.indented)),p):(o=\"error\",k)}function y(e,t,n){return\"equals\"==e?b:(l.allowMissing||(o=\"error\"),k(e,0,n))}function b(e,t,n){return\"string\"==e?w:\"word\"==e&&l.allowUnquoted?(o=\"string\",k):(o=\"error\",k(e,0,n))}function w(e,t,n){return\"string\"==e?w:k(e,0,n)}return c.isInText=!0,{startState:function(e){var t={tokenize:c,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;a=null;var n=t.tokenize(e,t);return n=(n||a)&&\"comment\"!=n&&(o=null,t.state=t.state(a||n,e,t),o)?\"error\"==o?n+\" error\":o:n},indent:function(e,t,n){var r=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(r&&r.noIndent)return C.Pass;if(e.tokenize!=d&&e.tokenize!=c)return n?n.match(/^(\\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\\[CDATA\\[/.test(t))return 0;var i=t&&/^<(\\/)?([\\w_:\\.-]*)/.exec(t);if(i&&i[1])for(;r;){if(r.tagName==i[2]){r=r.prev;break}if(!l.implicitlyClosed.hasOwnProperty(r.tagName))break;r=r.prev}else if(i)for(;r;){var o=l.contextGrabbers[r.tagName];if(!o||!o.hasOwnProperty(i[2]))break;r=r.prev}for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+s:e.baseIndent||0},electricInput:/<\\/[\\s\\w:]+>$/,blockCommentStart:\"\\x3c!--\",blockCommentEnd:\"--\\x3e\",configuration:l.htmlMode?\"html\":\"xml\",helperType:l.htmlMode?\"html\":\"xml\",skipAttribute:function(e){e.state==b&&(e.state=k)}}}),C.defineMIME(\"text/xml\",\"xml\"),C.defineMIME(\"application/xml\",\"xml\"),C.mimeModes.hasOwnProperty(\"text/html\")||C.defineMIME(\"text/html\",{name:\"xml\",htmlMode:!0})}),define(\"skylark-codemirror/mode/css/css\",[\"../../CodeMirror\"],function(A){function e(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}A.defineMode(\"css\",function(e,t){var o,i,n=t.inline,a=(t.propertyKeywords||(t=A.resolveMode(\"text/css\")),e.indentUnit),s=t.tokenHooks,r=t.documentTypes||{},l=t.mediaTypes||{},c=t.mediaFeatures||{},d=t.mediaValueKeywords||{},u=t.propertyKeywords||{},m=t.nonStandardPropertyKeywords||{},f=t.fontProperties||{},p=t.counterDescriptors||{},h=t.colorKeywords||{},g=t.valueKeywords||{},x=t.allowNested,e=t.lineComment,v=!0===t.supportsAtComponent;function k(e,t){return o=t,e}function y(i){return function(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==i&&!r){\")\"==i&&e.backUp(1);break}r=!r&&\"\\\\\"==n}return n!=i&&(r||\")\"==i)||(t.tokenize=null),o=\"string\"}}function b(e,t){return e.next(),e.match(/\\s*[\\\"\\')]/,!1)?t.tokenize=null:t.tokenize=y(\")\"),o=\"(\",null}function w(e,t,n){this.type=e,this.indent=t,this.prev=n}function C(e,t,n,r){return e.context=new w(n,t.indentation()+(!1===r?0:a),e.context),n}function S(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function F(e,t,n){return L[n.context.type](e,t,n)}function M(e,t,n,r){for(var i=r||1;0<i;i--)n.context=n.context.prev;return F(e,t,n)}function T(e){e=e.current().toLowerCase();i=g.hasOwnProperty(e)?\"atom\":h.hasOwnProperty(e)?\"keyword\":\"variable\"}var L={top:function(e,t,n){if(\"{\"==e)return C(n,t,\"block\");if(\"}\"==e&&n.context.prev)return S(n);if(v&&/@component/i.test(e))return C(n,t,\"atComponentBlock\");if(/^@(-moz-)?document$/i.test(e))return C(n,t,\"documentTypes\");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return C(n,t,\"atBlock\");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,\"restricted_atBlock_before\";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return\"keyframes\";if(e&&\"@\"==e.charAt(0))return C(n,t,\"at\");if(\"hash\"==e)i=\"builtin\";else if(\"word\"==e)i=\"tag\";else{if(\"variable-definition\"==e)return\"maybeprop\";if(\"interpolation\"==e)return C(n,t,\"interpolation\");if(\":\"==e)return\"pseudo\";if(x&&\"(\"==e)return C(n,t,\"parens\")}return n.context.type},block:function(e,t,n){var r;return\"word\"==e?(r=t.current().toLowerCase(),u.hasOwnProperty(r)?(i=\"property\",\"maybeprop\"):m.hasOwnProperty(r)?(i=\"string-2\",\"maybeprop\"):x?(i=t.match(/^\\s*:(?:\\s|$)/,!1)?\"property\":\"tag\",\"block\"):(i+=\" error\",\"maybeprop\")):\"meta\"==e?\"block\":x||\"hash\"!=e&&\"qualifier\"!=e?L.top(e,t,n):(i=\"error\",\"block\")},maybeprop:function(e,t,n){return\":\"==e?C(n,t,\"prop\"):F(e,t,n)},prop:function(e,t,n){if(\";\"==e)return S(n);if(\"{\"==e&&x)return C(n,t,\"propBlock\");if(\"}\"==e||\"{\"==e)return M(e,t,n);if(\"(\"==e)return C(n,t,\"parens\");if(\"hash\"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if(\"word\"==e)T(t);else if(\"interpolation\"==e)return C(n,t,\"interpolation\")}else i+=\" error\";return\"prop\"},propBlock:function(e,t,n){return\"}\"==e?S(n):\"word\"==e?(i=\"property\",\"maybeprop\"):n.context.type},parens:function(e,t,n){return\"{\"==e||\"}\"==e?M(e,t,n):\")\"==e?S(n):\"(\"==e?C(n,t,\"parens\"):\"interpolation\"==e?C(n,t,\"interpolation\"):(\"word\"==e&&T(t),\"parens\")},pseudo:function(e,t,n){return\"meta\"==e?\"pseudo\":\"word\"==e?(i=\"variable-3\",n.context.type):F(e,t,n)},documentTypes:function(e,t,n){return\"word\"==e&&r.hasOwnProperty(t.current())?(i=\"tag\",n.context.type):L.atBlock(e,t,n)},atBlock:function(e,t,n){return\"(\"==e?C(n,t,\"atBlock_parens\"):\"}\"==e||\";\"==e?M(e,t,n):\"{\"==e?S(n)&&C(n,t,x?\"block\":\"top\"):\"interpolation\"==e?C(n,t,\"interpolation\"):(\"word\"==e&&(e=t.current().toLowerCase(),i=\"only\"==e||\"not\"==e||\"and\"==e||\"or\"==e?\"keyword\":l.hasOwnProperty(e)?\"attribute\":c.hasOwnProperty(e)?\"property\":d.hasOwnProperty(e)?\"keyword\":u.hasOwnProperty(e)?\"property\":m.hasOwnProperty(e)?\"string-2\":g.hasOwnProperty(e)?\"atom\":h.hasOwnProperty(e)?\"keyword\":\"error\"),n.context.type)},atComponentBlock:function(e,t,n){return\"}\"==e?M(e,t,n):\"{\"==e?S(n)&&C(n,t,x?\"block\":\"top\",!1):(\"word\"==e&&(i=\"error\"),n.context.type)},atBlock_parens:function(e,t,n){return\")\"==e?S(n):\"{\"==e||\"}\"==e?M(e,t,n,2):L.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return\"{\"==e?C(n,t,\"restricted_atBlock\"):\"word\"==e&&\"@counter-style\"==n.stateArg?(i=\"variable\",\"restricted_atBlock_before\"):F(e,t,n)},restricted_atBlock:function(e,t,n){return\"}\"==e?(n.stateArg=null,S(n)):\"word\"==e?(i=\"@font-face\"==n.stateArg&&!f.hasOwnProperty(t.current().toLowerCase())||\"@counter-style\"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())?\"error\":\"property\",\"maybeprop\"):\"restricted_atBlock\"},keyframes:function(e,t,n){return\"word\"==e?(i=\"variable\",\"keyframes\"):\"{\"==e?C(n,t,\"top\"):F(e,t,n)},at:function(e,t,n){return\";\"==e?S(n):\"{\"==e||\"}\"==e?M(e,t,n):(\"word\"==e?i=\"tag\":\"hash\"==e&&(i=\"builtin\"),\"at\")},interpolation:function(e,t,n){return\"}\"==e?S(n):\"{\"==e||\";\"==e?M(e,t,n):(\"word\"==e?i=\"variable\":\"variable\"!=e&&\"(\"!=e&&\")\"!=e&&(i=\"error\"),\"interpolation\")}};return{startState:function(e){return{tokenize:null,state:n?\"block\":\"top\",stateArg:null,context:new w(n?\"block\":\"top\",e||0,null)}},token:function(e,t){var n;return!t.tokenize&&e.eatSpace()?null:((n=(t.tokenize||function(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return\"@\"==n?(e.eatWhile(/[\\w\\\\\\-]/),k(\"def\",e.current())):\"=\"==n||(\"~\"==n||\"|\"==n)&&e.eat(\"=\")?(o=\"compare\",null):'\"'==n||\"'\"==n?(t.tokenize=y(n),t.tokenize(e,t)):\"#\"==n?(e.eatWhile(/[\\w\\\\\\-]/),o=\"hash\",\"atom\"):\"!\"==n?(e.match(/^\\s*\\w*/),o=\"important\",\"keyword\"):/\\d/.test(n)||\".\"==n&&e.eat(/\\d/)?(e.eatWhile(/[\\w.%]/),o=\"unit\",\"number\"):\"-\"===n?/[\\d.]/.test(e.peek())?(e.eatWhile(/[\\w.%]/),o=\"unit\",\"number\"):e.match(/^-[\\w\\\\\\-]*/)?(e.eatWhile(/[\\w\\\\\\-]/),o=e.match(/^\\s*:/,!1)?\"variable-definition\":\"variable\",\"variable-2\"):e.match(/^\\w+-/)?o=\"meta\":void 0:/[,+>*\\/]/.test(n)?(o=\"select-op\",null):\".\"==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?o=\"qualifier\":/[:;{}\\[\\]\\(\\)]/.test(n)?k(null,n):e.match(/[\\w-.]+(?=\\()/)?(/^(url(-prefix)?|domain|regexp)$/.test(e.current().toLowerCase())&&(t.tokenize=b),o=\"variable\",\"variable callee\"):/[\\w\\\\\\-]/.test(n)?(e.eatWhile(/[\\w\\\\\\-]/),o=\"word\",\"property\"):o=null})(e,t))&&\"object\"==typeof n&&(o=n[1],n=n[0]),i=n,\"comment\"!=o&&(t.state=L[t.state](o,e,t)),i)},indent:function(e,t){var e=e.context,t=t&&t.charAt(0),n=e.indent;return(e=\"prop\"!=e.type||\"}\"!=t&&\")\"!=t?e:e.prev).prev&&(\"}\"!=t||\"block\"!=e.type&&\"top\"!=e.type&&\"interpolation\"!=e.type&&\"restricted_atBlock\"!=e.type?(\")\"!=t||\"parens\"!=e.type&&\"atBlock_parens\"!=e.type)&&(\"{\"!=t||\"at\"!=e.type&&\"atBlock\"!=e.type)||(n=Math.max(0,e.indent-a)):n=(e=e.prev).indent),n},electricChars:\"}\",blockCommentStart:\"/*\",blockCommentEnd:\"*/\",blockCommentContinue:\" * \",lineComment:e,fold:\"brace\"}});var t=[\"domain\",\"regexp\",\"url\",\"url-prefix\"],n=e(t),r=[\"all\",\"aural\",\"braille\",\"handheld\",\"print\",\"projection\",\"screen\",\"tty\",\"tv\",\"embossed\"],i=e(r),o=[\"width\",\"min-width\",\"max-width\",\"height\",\"min-height\",\"max-height\",\"device-width\",\"min-device-width\",\"max-device-width\",\"device-height\",\"min-device-height\",\"max-device-height\",\"aspect-ratio\",\"min-aspect-ratio\",\"max-aspect-ratio\",\"device-aspect-ratio\",\"min-device-aspect-ratio\",\"max-device-aspect-ratio\",\"color\",\"min-color\",\"max-color\",\"color-index\",\"min-color-index\",\"max-color-index\",\"monochrome\",\"min-monochrome\",\"max-monochrome\",\"resolution\",\"min-resolution\",\"max-resolution\",\"scan\",\"grid\",\"orientation\",\"device-pixel-ratio\",\"min-device-pixel-ratio\",\"max-device-pixel-ratio\",\"pointer\",\"any-pointer\",\"hover\",\"any-hover\"],a=e(o),s=[\"landscape\",\"portrait\",\"none\",\"coarse\",\"fine\",\"on-demand\",\"hover\",\"interlace\",\"progressive\"],l=e(s),c=[\"align-content\",\"align-items\",\"align-self\",\"alignment-adjust\",\"alignment-baseline\",\"anchor-point\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"azimuth\",\"backface-visibility\",\"background\",\"background-attachment\",\"background-blend-mode\",\"background-clip\",\"background-color\",\"background-image\",\"background-origin\",\"background-position\",\"background-repeat\",\"background-size\",\"baseline-shift\",\"binding\",\"bleed\",\"bookmark-label\",\"bookmark-level\",\"bookmark-state\",\"bookmark-target\",\"border\",\"border-bottom\",\"border-bottom-color\",\"border-bottom-left-radius\",\"border-bottom-right-radius\",\"border-bottom-style\",\"border-bottom-width\",\"border-collapse\",\"border-color\",\"border-image\",\"border-image-outset\",\"border-image-repeat\",\"border-image-slice\",\"border-image-source\",\"border-image-width\",\"border-left\",\"border-left-color\",\"border-left-style\",\"border-left-width\",\"border-radius\",\"border-right\",\"border-right-color\",\"border-right-style\",\"border-right-width\",\"border-spacing\",\"border-style\",\"border-top\",\"border-top-color\",\"border-top-left-radius\",\"border-top-right-radius\",\"border-top-style\",\"border-top-width\",\"border-width\",\"bottom\",\"box-decoration-break\",\"box-shadow\",\"box-sizing\",\"break-after\",\"break-before\",\"break-inside\",\"caption-side\",\"caret-color\",\"clear\",\"clip\",\"color\",\"color-profile\",\"column-count\",\"column-fill\",\"column-gap\",\"column-rule\",\"column-rule-color\",\"column-rule-style\",\"column-rule-width\",\"column-span\",\"column-width\",\"columns\",\"content\",\"counter-increment\",\"counter-reset\",\"crop\",\"cue\",\"cue-after\",\"cue-before\",\"cursor\",\"direction\",\"display\",\"dominant-baseline\",\"drop-initial-after-adjust\",\"drop-initial-after-align\",\"drop-initial-before-adjust\",\"drop-initial-before-align\",\"drop-initial-size\",\"drop-initial-value\",\"elevation\",\"empty-cells\",\"fit\",\"fit-position\",\"flex\",\"flex-basis\",\"flex-direction\",\"flex-flow\",\"flex-grow\",\"flex-shrink\",\"flex-wrap\",\"float\",\"float-offset\",\"flow-from\",\"flow-into\",\"font\",\"font-feature-settings\",\"font-family\",\"font-kerning\",\"font-language-override\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-synthesis\",\"font-variant\",\"font-variant-alternates\",\"font-variant-caps\",\"font-variant-east-asian\",\"font-variant-ligatures\",\"font-variant-numeric\",\"font-variant-position\",\"font-weight\",\"grid\",\"grid-area\",\"grid-auto-columns\",\"grid-auto-flow\",\"grid-auto-rows\",\"grid-column\",\"grid-column-end\",\"grid-column-gap\",\"grid-column-start\",\"grid-gap\",\"grid-row\",\"grid-row-end\",\"grid-row-gap\",\"grid-row-start\",\"grid-template\",\"grid-template-areas\",\"grid-template-columns\",\"grid-template-rows\",\"hanging-punctuation\",\"height\",\"hyphens\",\"icon\",\"image-orientation\",\"image-rendering\",\"image-resolution\",\"inline-box-align\",\"justify-content\",\"justify-items\",\"justify-self\",\"left\",\"letter-spacing\",\"line-break\",\"line-height\",\"line-stacking\",\"line-stacking-ruby\",\"line-stacking-shift\",\"line-stacking-strategy\",\"list-style\",\"list-style-image\",\"list-style-position\",\"list-style-type\",\"margin\",\"margin-bottom\",\"margin-left\",\"margin-right\",\"margin-top\",\"marks\",\"marquee-direction\",\"marquee-loop\",\"marquee-play-count\",\"marquee-speed\",\"marquee-style\",\"max-height\",\"max-width\",\"min-height\",\"min-width\",\"mix-blend-mode\",\"move-to\",\"nav-down\",\"nav-index\",\"nav-left\",\"nav-right\",\"nav-up\",\"object-fit\",\"object-position\",\"opacity\",\"order\",\"orphans\",\"outline\",\"outline-color\",\"outline-offset\",\"outline-style\",\"outline-width\",\"overflow\",\"overflow-style\",\"overflow-wrap\",\"overflow-x\",\"overflow-y\",\"padding\",\"padding-bottom\",\"padding-left\",\"padding-right\",\"padding-top\",\"page\",\"page-break-after\",\"page-break-before\",\"page-break-inside\",\"page-policy\",\"pause\",\"pause-after\",\"pause-before\",\"perspective\",\"perspective-origin\",\"pitch\",\"pitch-range\",\"place-content\",\"place-items\",\"place-self\",\"play-during\",\"position\",\"presentation-level\",\"punctuation-trim\",\"quotes\",\"region-break-after\",\"region-break-before\",\"region-break-inside\",\"region-fragment\",\"rendering-intent\",\"resize\",\"rest\",\"rest-after\",\"rest-before\",\"richness\",\"right\",\"rotation\",\"rotation-point\",\"ruby-align\",\"ruby-overhang\",\"ruby-position\",\"ruby-span\",\"shape-image-threshold\",\"shape-inside\",\"shape-margin\",\"shape-outside\",\"size\",\"speak\",\"speak-as\",\"speak-header\",\"speak-numeral\",\"speak-punctuation\",\"speech-rate\",\"stress\",\"string-set\",\"tab-size\",\"table-layout\",\"target\",\"target-name\",\"target-new\",\"target-position\",\"text-align\",\"text-align-last\",\"text-decoration\",\"text-decoration-color\",\"text-decoration-line\",\"text-decoration-skip\",\"text-decoration-style\",\"text-emphasis\",\"text-emphasis-color\",\"text-emphasis-position\",\"text-emphasis-style\",\"text-height\",\"text-indent\",\"text-justify\",\"text-outline\",\"text-overflow\",\"text-shadow\",\"text-size-adjust\",\"text-space-collapse\",\"text-transform\",\"text-underline-position\",\"text-wrap\",\"top\",\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"unicode-bidi\",\"user-select\",\"vertical-align\",\"visibility\",\"voice-balance\",\"voice-duration\",\"voice-family\",\"voice-pitch\",\"voice-range\",\"voice-rate\",\"voice-stress\",\"voice-volume\",\"volume\",\"white-space\",\"widows\",\"width\",\"will-change\",\"word-break\",\"word-spacing\",\"word-wrap\",\"z-index\",\"clip-path\",\"clip-rule\",\"mask\",\"enable-background\",\"filter\",\"flood-color\",\"flood-opacity\",\"lighting-color\",\"stop-color\",\"stop-opacity\",\"pointer-events\",\"color-interpolation\",\"color-interpolation-filters\",\"color-rendering\",\"fill\",\"fill-opacity\",\"fill-rule\",\"image-rendering\",\"marker\",\"marker-end\",\"marker-mid\",\"marker-start\",\"shape-rendering\",\"stroke\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke-width\",\"text-rendering\",\"baseline-shift\",\"dominant-baseline\",\"glyph-orientation-horizontal\",\"glyph-orientation-vertical\",\"text-anchor\",\"writing-mode\"],d=e(c),u=[\"scrollbar-arrow-color\",\"scrollbar-base-color\",\"scrollbar-dark-shadow-color\",\"scrollbar-face-color\",\"scrollbar-highlight-color\",\"scrollbar-shadow-color\",\"scrollbar-3d-light-color\",\"scrollbar-track-color\",\"shape-inside\",\"searchfield-cancel-button\",\"searchfield-decoration\",\"searchfield-results-button\",\"searchfield-results-decoration\",\"zoom\"],m=e(u),f=e([\"font-family\",\"src\",\"unicode-range\",\"font-variant\",\"font-feature-settings\",\"font-stretch\",\"font-weight\",\"font-style\"]),p=e([\"additive-symbols\",\"fallback\",\"negative\",\"pad\",\"prefix\",\"range\",\"speak-as\",\"suffix\",\"symbols\",\"system\"]),h=[\"aliceblue\",\"antiquewhite\",\"aqua\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"black\",\"blanchedalmond\",\"blue\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgreen\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"fuchsia\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"gray\",\"grey\",\"green\",\"greenyellow\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgreen\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightsteelblue\",\"lightyellow\",\"lime\",\"limegreen\",\"linen\",\"magenta\",\"maroon\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"navy\",\"oldlace\",\"olive\",\"olivedrab\",\"orange\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"purple\",\"rebeccapurple\",\"red\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"silver\",\"skyblue\",\"slateblue\",\"slategray\",\"snow\",\"springgreen\",\"steelblue\",\"tan\",\"teal\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"white\",\"whitesmoke\",\"yellow\",\"yellowgreen\"],g=e(h),x=[\"above\",\"absolute\",\"activeborder\",\"additive\",\"activecaption\",\"afar\",\"after-white-space\",\"ahead\",\"alias\",\"all\",\"all-scroll\",\"alphabetic\",\"alternate\",\"always\",\"amharic\",\"amharic-abegede\",\"antialiased\",\"appworkspace\",\"arabic-indic\",\"armenian\",\"asterisks\",\"attr\",\"auto\",\"auto-flow\",\"avoid\",\"avoid-column\",\"avoid-page\",\"avoid-region\",\"background\",\"backwards\",\"baseline\",\"below\",\"bidi-override\",\"binary\",\"bengali\",\"blink\",\"block\",\"block-axis\",\"bold\",\"bolder\",\"border\",\"border-box\",\"both\",\"bottom\",\"break\",\"break-all\",\"break-word\",\"bullets\",\"button\",\"button-bevel\",\"buttonface\",\"buttonhighlight\",\"buttonshadow\",\"buttontext\",\"calc\",\"cambodian\",\"capitalize\",\"caps-lock-indicator\",\"caption\",\"captiontext\",\"caret\",\"cell\",\"center\",\"checkbox\",\"circle\",\"cjk-decimal\",\"cjk-earthly-branch\",\"cjk-heavenly-stem\",\"cjk-ideographic\",\"clear\",\"clip\",\"close-quote\",\"col-resize\",\"collapse\",\"color\",\"color-burn\",\"color-dodge\",\"column\",\"column-reverse\",\"compact\",\"condensed\",\"contain\",\"content\",\"contents\",\"content-box\",\"context-menu\",\"continuous\",\"copy\",\"counter\",\"counters\",\"cover\",\"crop\",\"cross\",\"crosshair\",\"currentcolor\",\"cursive\",\"cyclic\",\"darken\",\"dashed\",\"decimal\",\"decimal-leading-zero\",\"default\",\"default-button\",\"dense\",\"destination-atop\",\"destination-in\",\"destination-out\",\"destination-over\",\"devanagari\",\"difference\",\"disc\",\"discard\",\"disclosure-closed\",\"disclosure-open\",\"document\",\"dot-dash\",\"dot-dot-dash\",\"dotted\",\"double\",\"down\",\"e-resize\",\"ease\",\"ease-in\",\"ease-in-out\",\"ease-out\",\"element\",\"ellipse\",\"ellipsis\",\"embed\",\"end\",\"ethiopic\",\"ethiopic-abegede\",\"ethiopic-abegede-am-et\",\"ethiopic-abegede-gez\",\"ethiopic-abegede-ti-er\",\"ethiopic-abegede-ti-et\",\"ethiopic-halehame-aa-er\",\"ethiopic-halehame-aa-et\",\"ethiopic-halehame-am-et\",\"ethiopic-halehame-gez\",\"ethiopic-halehame-om-et\",\"ethiopic-halehame-sid-et\",\"ethiopic-halehame-so-et\",\"ethiopic-halehame-ti-er\",\"ethiopic-halehame-ti-et\",\"ethiopic-halehame-tig\",\"ethiopic-numeric\",\"ew-resize\",\"exclusion\",\"expanded\",\"extends\",\"extra-condensed\",\"extra-expanded\",\"fantasy\",\"fast\",\"fill\",\"fixed\",\"flat\",\"flex\",\"flex-end\",\"flex-start\",\"footnotes\",\"forwards\",\"from\",\"geometricPrecision\",\"georgian\",\"graytext\",\"grid\",\"groove\",\"gujarati\",\"gurmukhi\",\"hand\",\"hangul\",\"hangul-consonant\",\"hard-light\",\"hebrew\",\"help\",\"hidden\",\"hide\",\"higher\",\"highlight\",\"highlighttext\",\"hiragana\",\"hiragana-iroha\",\"horizontal\",\"hsl\",\"hsla\",\"hue\",\"icon\",\"ignore\",\"inactiveborder\",\"inactivecaption\",\"inactivecaptiontext\",\"infinite\",\"infobackground\",\"infotext\",\"inherit\",\"initial\",\"inline\",\"inline-axis\",\"inline-block\",\"inline-flex\",\"inline-grid\",\"inline-table\",\"inset\",\"inside\",\"intrinsic\",\"invert\",\"italic\",\"japanese-formal\",\"japanese-informal\",\"justify\",\"kannada\",\"katakana\",\"katakana-iroha\",\"keep-all\",\"khmer\",\"korean-hangul-formal\",\"korean-hanja-formal\",\"korean-hanja-informal\",\"landscape\",\"lao\",\"large\",\"larger\",\"left\",\"level\",\"lighter\",\"lighten\",\"line-through\",\"linear\",\"linear-gradient\",\"lines\",\"list-item\",\"listbox\",\"listitem\",\"local\",\"logical\",\"loud\",\"lower\",\"lower-alpha\",\"lower-armenian\",\"lower-greek\",\"lower-hexadecimal\",\"lower-latin\",\"lower-norwegian\",\"lower-roman\",\"lowercase\",\"ltr\",\"luminosity\",\"malayalam\",\"match\",\"matrix\",\"matrix3d\",\"media-controls-background\",\"media-current-time-display\",\"media-fullscreen-button\",\"media-mute-button\",\"media-play-button\",\"media-return-to-realtime-button\",\"media-rewind-button\",\"media-seek-back-button\",\"media-seek-forward-button\",\"media-slider\",\"media-sliderthumb\",\"media-time-remaining-display\",\"media-volume-slider\",\"media-volume-slider-container\",\"media-volume-sliderthumb\",\"medium\",\"menu\",\"menulist\",\"menulist-button\",\"menulist-text\",\"menulist-textfield\",\"menutext\",\"message-box\",\"middle\",\"min-intrinsic\",\"mix\",\"mongolian\",\"monospace\",\"move\",\"multiple\",\"multiply\",\"myanmar\",\"n-resize\",\"narrower\",\"ne-resize\",\"nesw-resize\",\"no-close-quote\",\"no-drop\",\"no-open-quote\",\"no-repeat\",\"none\",\"normal\",\"not-allowed\",\"nowrap\",\"ns-resize\",\"numbers\",\"numeric\",\"nw-resize\",\"nwse-resize\",\"oblique\",\"octal\",\"opacity\",\"open-quote\",\"optimizeLegibility\",\"optimizeSpeed\",\"oriya\",\"oromo\",\"outset\",\"outside\",\"outside-shape\",\"overlay\",\"overline\",\"padding\",\"padding-box\",\"painted\",\"page\",\"paused\",\"persian\",\"perspective\",\"plus-darker\",\"plus-lighter\",\"pointer\",\"polygon\",\"portrait\",\"pre\",\"pre-line\",\"pre-wrap\",\"preserve-3d\",\"progress\",\"push-button\",\"radial-gradient\",\"radio\",\"read-only\",\"read-write\",\"read-write-plaintext-only\",\"rectangle\",\"region\",\"relative\",\"repeat\",\"repeating-linear-gradient\",\"repeating-radial-gradient\",\"repeat-x\",\"repeat-y\",\"reset\",\"reverse\",\"rgb\",\"rgba\",\"ridge\",\"right\",\"rotate\",\"rotate3d\",\"rotateX\",\"rotateY\",\"rotateZ\",\"round\",\"row\",\"row-resize\",\"row-reverse\",\"rtl\",\"run-in\",\"running\",\"s-resize\",\"sans-serif\",\"saturation\",\"scale\",\"scale3d\",\"scaleX\",\"scaleY\",\"scaleZ\",\"screen\",\"scroll\",\"scrollbar\",\"scroll-position\",\"se-resize\",\"searchfield\",\"searchfield-cancel-button\",\"searchfield-decoration\",\"searchfield-results-button\",\"searchfield-results-decoration\",\"self-start\",\"self-end\",\"semi-condensed\",\"semi-expanded\",\"separate\",\"serif\",\"show\",\"sidama\",\"simp-chinese-formal\",\"simp-chinese-informal\",\"single\",\"skew\",\"skewX\",\"skewY\",\"skip-white-space\",\"slide\",\"slider-horizontal\",\"slider-vertical\",\"sliderthumb-horizontal\",\"sliderthumb-vertical\",\"slow\",\"small\",\"small-caps\",\"small-caption\",\"smaller\",\"soft-light\",\"solid\",\"somali\",\"source-atop\",\"source-in\",\"source-out\",\"source-over\",\"space\",\"space-around\",\"space-between\",\"space-evenly\",\"spell-out\",\"square\",\"square-button\",\"start\",\"static\",\"status-bar\",\"stretch\",\"stroke\",\"sub\",\"subpixel-antialiased\",\"super\",\"sw-resize\",\"symbolic\",\"symbols\",\"system-ui\",\"table\",\"table-caption\",\"table-cell\",\"table-column\",\"table-column-group\",\"table-footer-group\",\"table-header-group\",\"table-row\",\"table-row-group\",\"tamil\",\"telugu\",\"text\",\"text-bottom\",\"text-top\",\"textarea\",\"textfield\",\"thai\",\"thick\",\"thin\",\"threeddarkshadow\",\"threedface\",\"threedhighlight\",\"threedlightshadow\",\"threedshadow\",\"tibetan\",\"tigre\",\"tigrinya-er\",\"tigrinya-er-abegede\",\"tigrinya-et\",\"tigrinya-et-abegede\",\"to\",\"top\",\"trad-chinese-formal\",\"trad-chinese-informal\",\"transform\",\"translate\",\"translate3d\",\"translateX\",\"translateY\",\"translateZ\",\"transparent\",\"ultra-condensed\",\"ultra-expanded\",\"underline\",\"unset\",\"up\",\"upper-alpha\",\"upper-armenian\",\"upper-greek\",\"upper-hexadecimal\",\"upper-latin\",\"upper-norwegian\",\"upper-roman\",\"uppercase\",\"urdu\",\"url\",\"var\",\"vertical\",\"vertical-text\",\"visible\",\"visibleFill\",\"visiblePainted\",\"visibleStroke\",\"visual\",\"w-resize\",\"wait\",\"wave\",\"wider\",\"window\",\"windowframe\",\"windowtext\",\"words\",\"wrap\",\"wrap-reverse\",\"x-large\",\"x-small\",\"xor\",\"xx-large\",\"xx-small\"],v=e(x),t=t.concat(r).concat(o).concat(s).concat(c).concat(u).concat(h).concat(x);function k(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&\"/\"==n){t.tokenize=null;break}r=\"*\"==n}return[\"comment\",\"comment\"]}A.registerHelper(\"hintWords\",\"css\",t),A.defineMIME(\"text/css\",{documentTypes:n,mediaTypes:i,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:d,nonStandardPropertyKeywords:m,fontProperties:f,counterDescriptors:p,colorKeywords:g,valueKeywords:v,tokenHooks:{\"/\":function(e,t){return!!e.eat(\"*\")&&(t.tokenize=k)(e,t)}},name:\"css\"}),A.defineMIME(\"text/x-scss\",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:d,nonStandardPropertyKeywords:m,colorKeywords:g,valueKeywords:v,fontProperties:f,allowNested:!0,lineComment:\"//\",tokenHooks:{\"/\":function(e,t){return e.eat(\"/\")?(e.skipToEnd(),[\"comment\",\"comment\"]):e.eat(\"*\")?(t.tokenize=k)(e,t):[\"operator\",\"operator\"]},\":\":function(e){return!!e.match(/\\s*\\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\\w-]+/),e.match(/^\\s*:/,!1)?[\"variable-2\",\"variable-definition\"]:[\"variable-2\",\"variable\"]},\"#\":function(e){return!!e.eat(\"{\")&&[null,\"interpolation\"]}},name:\"css\",helperType:\"scss\"}),A.defineMIME(\"text/x-less\",{mediaTypes:i,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:d,nonStandardPropertyKeywords:m,colorKeywords:g,valueKeywords:v,fontProperties:f,allowNested:!0,lineComment:\"//\",tokenHooks:{\"/\":function(e,t){return e.eat(\"/\")?(e.skipToEnd(),[\"comment\",\"comment\"]):e.eat(\"*\")?(t.tokenize=k)(e,t):[\"operator\",\"operator\"]},\"@\":function(e){return e.eat(\"{\")?[null,\"interpolation\"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i,!1)&&(e.eatWhile(/[\\w\\\\\\-]/),e.match(/^\\s*:/,!1)?[\"variable-2\",\"variable-definition\"]:[\"variable-2\",\"variable\"])},\"&\":function(){return[\"atom\",\"atom\"]}},name:\"css\",helperType:\"less\"}),A.defineMIME(\"text/x-gss\",{documentTypes:n,mediaTypes:i,mediaFeatures:a,propertyKeywords:d,nonStandardPropertyKeywords:m,fontProperties:f,counterDescriptors:p,colorKeywords:g,valueKeywords:v,supportsAtComponent:!0,tokenHooks:{\"/\":function(e,t){return!!e.eat(\"*\")&&(t.tokenize=k)(e,t)}},name:\"css\",helperType:\"gss\"})}),define(\"skylark-codemirror/mode/javascript/javascript\",[\"../../CodeMirror\"],function(Qe){Qe.defineMode(\"javascript\",function(e,d){var t,n,q,H,u=e.indentUnit,z=d.statementIndent,B=d.jsonld,a=d.json||B,c=d.typescript,I=d.wordCharacters||/[\\w$\\xa1-\\uffff]/,$=(e=r(\"keyword a\"),t=r(\"keyword b\"),n=r(\"keyword c\"),q=r(\"keyword d\"),H=r(\"operator\"),{if:r(\"if\"),while:e,with:e,else:t,do:t,try:t,finally:t,return:q,break:q,continue:q,new:r(\"new\"),delete:n,void:n,throw:n,debugger:r(\"debugger\"),var:r(\"var\"),const:r(\"var\"),let:r(\"var\"),function:r(\"function\"),catch:r(\"catch\"),for:r(\"for\"),switch:r(\"switch\"),case:r(\"case\"),default:r(\"default\"),in:H,typeof:H,instanceof:H,true:e={type:\"atom\",style:\"atom\"},false:e,null:e,undefined:e,NaN:e,Infinity:e,this:r(\"this\"),class:r(\"class\"),super:r(\"atom\"),yield:n,export:r(\"export\"),import:r(\"import\"),extends:n,await:n});function r(e){return{type:e,style:\"keyword\"}}var i,_,R=/[+\\-*&%=<>!?|~^@]/,W=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;function o(e,t,n){return i=e,_=n,t}function m(e,t){var i,n=e.next();if('\"'==n||\"'\"==n)return t.tokenize=(i=n,function(e,t){var n,r=!1;if(B&&\"@\"==e.peek()&&e.match(W))return t.tokenize=m,o(\"jsonld-keyword\",\"meta\");for(;null!=(n=e.next())&&(n!=i||r);)r=!r&&\"\\\\\"==n;return r||(t.tokenize=m),o(\"string\",\"string\")}),t.tokenize(e,t);if(\".\"==n&&e.match(/^\\d+(?:[eE][+\\-]?\\d+)?/))return o(\"number\",\"number\");if(\".\"==n&&e.match(\"..\"))return o(\"spread\",\"meta\");if(/[\\[\\]{}\\(\\),;\\:\\.]/.test(n))return o(n);if(\"=\"==n&&e.eat(\">\"))return o(\"=>\",\"operator\");if(\"0\"==n&&e.match(/^(?:x[\\da-f]+|o[0-7]+|b[01]+)n?/i))return o(\"number\",\"number\");if(/\\d/.test(n))return e.match(/^\\d*(?:n|(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)?/),o(\"number\",\"number\");if(\"/\"==n)return e.eat(\"*\")?(t.tokenize=V)(e,t):e.eat(\"/\")?(e.skipToEnd(),o(\"comment\",\"comment\")):Xe(e,t,1)?(function(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if(\"/\"==t&&!r)return;\"[\"==t?r=!0:r&&\"]\"==t&&(r=!1)}n=!n&&\"\\\\\"==t}}(e),e.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/),o(\"regexp\",\"string-2\")):(e.eat(\"=\"),o(\"operator\",\"operator\",e.current()));if(\"`\"==n)return(t.tokenize=G)(e,t);if(\"#\"==n)return e.skipToEnd(),o(\"error\",\"error\");if(R.test(n))return\">\"==n&&t.lexical&&\">\"==t.lexical.type||(e.eat(\"=\")?\"!\"!=n&&\"=\"!=n||e.eat(\"=\"):/[<>*+\\-]/.test(n)&&(e.eat(n),\">\"==n)&&e.eat(n)),o(\"operator\",\"operator\",e.current());if(I.test(n)){e.eatWhile(I);n=e.current();if(\".\"!=t.lastType){if($.propertyIsEnumerable(n))return o((t=$[n]).type,t.style,n);if(\"async\"==n&&e.match(/^(\\s|\\/\\*.*?\\*\\/)*[\\[\\(\\w]/,!1))return o(\"async\",\"keyword\",n)}return o(\"variable\",\"variable\",n)}}function V(e,t){for(var n,r=!1;n=e.next();){if(\"/\"==n&&r){t.tokenize=m;break}r=\"*\"==n}return o(\"comment\",\"comment\")}function G(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&(\"`\"==n||\"$\"==n&&e.eat(\"{\"))){t.tokenize=m;break}r=!r&&\"\\\\\"==n}return o(\"quasi\",\"string-2\",e.current())}function K(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf(\"=>\",e.start);if(!(n<0)){for(var r,i=0,o=!1,a=(n=c&&(r=/:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(e.string.slice(e.start,n)))?r.index:n)-1;0<=a;--a){var s=e.string.charAt(a),l=\"([{}])\".indexOf(s);if(0<=l&&l<3){if(!i){++a;break}if(0==--i){\"(\"==s&&(o=!0);break}}else if(3<=l&&l<6)++i;else if(I.test(s))o=!0;else{if(/[\"'\\/]/.test(s))return;if(o&&!i){++a;break}}}o&&!i&&(t.fatArrowAt=a)}}var U={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,\"jsonld-keyword\":!0};function J(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function X(e,t,n,r,i){var o=e.cc;for(s.state=e,s.stream=i,s.marked=null,s.cc=o,s.style=t,e.lexical.hasOwnProperty(\"align\")||(e.lexical.align=!0);;)if((o.length?o.pop():a?b:y)(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return s.marked?s.marked:\"variable\"==n&&function(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return 1;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return 1}(e,r)?\"variable-2\":t}}var s={state:null,column:null,marked:null,cc:null};function l(){for(var e=arguments.length-1;0<=e;e--)s.cc.push(arguments[e])}function f(){return l.apply(null,arguments),!0}function Q(e,t){for(var n=t;n;n=n.next)if(n.name==e)return 1}function p(e){var t=s.state;if(s.marked=\"def\",t.context)if(\"var\"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,n){{var r;return n?n.block?(r=e(t,n.prev))?r==n.prev?n:new Z(r,n.vars,!0):null:Q(t,n.vars)?n:new Z(n.prev,new ee(t,n.vars),!1):null}}(e,t.context);if(null!=n)return void(t.context=n)}else if(!Q(e,t.localVars))return void(t.localVars=new ee(e,t.localVars));d.globalVars&&!Q(e,t.globalVars)&&(t.globalVars=new ee(e,t.globalVars))}function Y(e){return\"public\"==e||\"private\"==e||\"protected\"==e||\"abstract\"==e||\"readonly\"==e}function Z(e,t,n){this.prev=e,this.vars=t,this.block=n}function ee(e,t){this.name=e,this.next=t}var te=new ee(\"this\",new ee(\"arguments\",null));function h(){s.state.context=new Z(s.state.context,s.state.localVars,!1),s.state.localVars=te}function ne(){s.state.context=new Z(s.state.context,s.state.localVars,!0),s.state.localVars=null}function g(){s.state.localVars=s.state.context.vars,s.state.context=s.state.context.prev}function x(r,i){function e(){var e=s.state,t=e.indented;if(\"stat\"==e.lexical.type)t=e.lexical.indented;else for(var n=e.lexical;n&&\")\"==n.type&&n.align;n=n.prev)t=n.indented;e.lexical=new J(t,s.stream.column(),r,null,e.lexical,i)}return e.lex=!0,e}function v(){var e=s.state;e.lexical.prev&&(\")\"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function k(n){return function e(t){return t==n?f():\";\"==n||\"}\"==t||\")\"==t||\"]\"==t?l():f(e)}}function y(e,t){return\"var\"==e?f(x(\"vardef\",t),Te,k(\";\"),v):\"keyword a\"==e?f(x(\"form\"),ie,y,v):\"keyword b\"==e?f(x(\"form\"),y,v):\"keyword d\"==e?s.stream.match(/^\\s*$/,!1)?f():f(x(\"stat\"),ae,k(\";\"),v):\"debugger\"==e?f(k(\";\")):\"{\"==e?f(x(\"}\"),ne,ve,v,g):\";\"==e?f():\"if\"==e?(\"else\"==s.state.lexical.info&&s.state.cc[s.state.cc.length-1]==v&&s.state.cc.pop()(),f(x(\"form\"),ie,y,v,De)):\"function\"==e?f(j):\"for\"==e?f(x(\"form\"),je,y,v):\"class\"==e||c&&\"interface\"==t?(s.marked=\"keyword\",f(x(\"form\",\"class\"==e?e:t),He,v)):\"variable\"==e?c&&\"declare\"==t?(s.marked=\"keyword\",f(y)):c&&(\"module\"==t||\"enum\"==t||\"type\"==t)&&s.stream.match(/^\\s*\\w/,!1)?(s.marked=\"keyword\",\"enum\"==t?f(Ue):\"type\"==t?f(Ne,k(\"operator\"),L,k(\";\")):f(x(\"form\"),E,k(\"{\"),x(\"}\"),ve,v,v)):c&&\"namespace\"==t?(s.marked=\"keyword\",f(x(\"form\"),b,y,v)):c&&\"abstract\"==t?(s.marked=\"keyword\",f(y)):f(x(\"stat\"),fe):\"switch\"==e?f(x(\"form\"),ie,k(\"{\"),x(\"}\",\"switch\"),ne,ve,v,v,g):\"case\"==e?f(b,k(\":\")):\"default\"==e?f(k(\":\")):\"catch\"==e?f(x(\"form\"),h,re,y,v,g):\"export\"==e?f(x(\"stat\"),Ie,v):\"import\"==e?f(x(\"stat\"),_e,v):\"async\"==e?f(y):\"@\"==t?f(b,y):l(x(\"stat\"),b,k(\";\"),v)}function re(e){if(\"(\"==e)return f(P,k(\")\"))}function b(e,t){return oe(e,t,!1)}function w(e,t){return oe(e,t,!0)}function ie(e){return\"(\"!=e?l():f(x(\")\"),b,k(\")\"),v)}function oe(e,t,n){if(s.state.fatArrowAt==s.stream.start){var r=n?de:ce;if(\"(\"==e)return f(h,x(\")\"),M(P,\")\"),v,k(\"=>\"),r,g);if(\"variable\"==e)return l(h,E,k(\"=>\"),r,g)}var i,r=n?S:C;return U.hasOwnProperty(e)?f(r):\"function\"==e?f(j,r):\"class\"==e||c&&\"interface\"==t?(s.marked=\"keyword\",f(x(\"form\"),qe,v)):\"keyword c\"==e||\"async\"==e?f(n?w:b):\"(\"==e?f(x(\")\"),ae,k(\")\"),v,r):\"operator\"==e||\"spread\"==e?f(n?w:b):\"[\"==e?f(x(\"]\"),Ke,v,r):\"{\"==e?xe(he,\"}\",null,r):\"quasi\"==e?l(se,r):\"new\"==e?f((i=n,function(e){return\".\"==e?f(i?me:ue):\"variable\"==e&&c?f(Se,i?S:C):l(i?w:b)})):\"import\"==e?f(b):f()}function ae(e){return e.match(/[;\\}\\)\\],]/)?l():l(b)}function C(e,t){return\",\"==e?f(b):S(e,t,!1)}function S(e,t,n){var r=0==n?C:S,i=0==n?b:w;return\"=>\"==e?f(h,n?de:ce,g):\"operator\"==e?/\\+\\+|--/.test(t)||c&&\"!\"==t?f(r):c&&\"<\"==t&&s.stream.match(/^([^>]|<.*?>)*>\\s*\\(/,!1)?f(x(\">\"),M(L,\">\"),v,r):\"?\"==t?f(b,k(\":\"),i):f(i):\"quasi\"==e?l(se,r):\";\"!=e?\"(\"==e?xe(w,\")\",\"call\",r):\".\"==e?f(pe,r):\"[\"==e?f(x(\"]\"),ae,k(\"]\"),v,r):c&&\"as\"==t?(s.marked=\"keyword\",f(L,r)):\"regexp\"==e?(s.state.lastType=s.marked=\"operator\",s.stream.backUp(s.stream.pos-s.stream.start-1),f(i)):void 0:void 0}function se(e,t){return\"quasi\"!=e?l():\"${\"!=t.slice(t.length-2)?f(se):f(b,le)}function le(e){if(\"}\"==e)return s.marked=\"string-2\",s.state.tokenize=G,f(se)}function ce(e){return K(s.stream,s.state),l(\"{\"==e?y:b)}function de(e){return K(s.stream,s.state),l(\"{\"==e?y:w)}function ue(e,t){if(\"target\"==t)return s.marked=\"keyword\",f(C)}function me(e,t){if(\"target\"==t)return s.marked=\"keyword\",f(S)}function fe(e){return\":\"==e?f(v,y):l(C,k(\";\"),v)}function pe(e){if(\"variable\"==e)return s.marked=\"property\",f()}function he(e,t){var n;return\"async\"==e?(s.marked=\"property\",f(he)):\"variable\"==e||\"keyword\"==s.style?(s.marked=\"property\",\"get\"==t||\"set\"==t?f(ge):(c&&s.state.fatArrowAt==s.stream.start&&(n=s.stream.match(/^\\s*:\\s*/,!1))&&(s.state.fatArrowAt=s.stream.pos+n[0].length),f(F))):\"number\"==e||\"string\"==e?(s.marked=B?\"property\":s.style+\" property\",f(F)):\"jsonld-keyword\"==e?f(F):c&&Y(t)?(s.marked=\"keyword\",f(he)):\"[\"==e?f(b,T,k(\"]\"),F):\"spread\"==e?f(w,F):\"*\"==t?(s.marked=\"keyword\",f(he)):\":\"==e?l(F):void 0}function ge(e){return\"variable\"!=e?l(F):(s.marked=\"property\",f(j))}function F(e){return\":\"==e?f(w):\"(\"==e?l(j):void 0}function M(r,i,o){function a(e,t){var n;return(o?-1<o.indexOf(e):\",\"==e)?(\"call\"==(n=s.state.lexical).info&&(n.pos=(n.pos||0)+1),f(function(e,t){return e==i||t==i?l():l(r)},a)):e==i||t==i?f():o&&-1<o.indexOf(\";\")?l(r):f(k(i))}return function(e,t){return e==i||t==i?f():l(r,a)}}function xe(e,t,n){for(var r=3;r<arguments.length;r++)s.cc.push(arguments[r]);return f(x(t,n),M(e,t),v)}function ve(e){return\"}\"==e?f():l(y,ve)}function T(e,t){if(c)return\":\"==e||\"in\"==t?f(L):\"?\"==t?f(T):void 0}function ke(e){if(c&&\":\"==e)return s.stream.match(/^\\s*\\w+\\s+is\\b/,!1)?f(b,ye,L):f(L)}function ye(e,t){if(\"is\"==t)return s.marked=\"keyword\",f()}function L(e,t){return\"keyof\"==t||\"typeof\"==t||\"infer\"==t?(s.marked=\"keyword\",f(\"typeof\"==t?w:L)):\"variable\"==e||\"void\"==t?(s.marked=\"type\",f(A)):\"|\"==t||\"&\"==t?f(L):\"string\"==e||\"number\"==e||\"atom\"==e?f(A):\"[\"==e?f(x(\"]\"),M(L,\"]\",\",\"),v,A):\"{\"==e?f(x(\"}\"),M(we,\"}\",\",;\"),v,A):\"(\"==e?f(M(Ce,\")\"),be,A):\"<\"==e?f(M(L,\">\"),L):void 0}function be(e){if(\"=>\"==e)return f(L)}function we(e,t){return\"variable\"==e||\"keyword\"==s.style?(s.marked=\"property\",f(we)):\"?\"==t||\"number\"==e||\"string\"==e?f(we):\":\"==e?f(L):\"[\"==e?f(k(\"variable\"),T,k(\"]\"),we):\"(\"==e?l(O,we):void 0}function Ce(e,t){return\"variable\"==e&&s.stream.match(/^\\s*[?:]/,!1)||\"?\"==t?f(Ce):\":\"==e?f(L):\"spread\"==e?f(Ce):l(L)}function A(e,t){return\"<\"==t?f(x(\">\"),M(L,\">\"),v,A):\"|\"==t||\".\"==e||\"&\"==t?f(L):\"[\"==e?f(L,k(\"]\"),A):\"extends\"==t||\"implements\"==t?(s.marked=\"keyword\",f(L)):\"?\"==t?f(L,k(\":\"),L):void 0}function Se(e,t){if(\"<\"==t)return f(x(\">\"),M(L,\">\"),v,A)}function Fe(){return l(L,Me)}function Me(e,t){if(\"=\"==t)return f(L)}function Te(e,t){return\"enum\"==t?(s.marked=\"keyword\",f(Ue)):l(E,T,D,Ee)}function E(e,t){return c&&Y(t)?(s.marked=\"keyword\",f(E)):\"variable\"==e?(p(t),f()):\"spread\"==e?f(E):\"[\"==e?xe(Ae,\"]\"):\"{\"==e?xe(Le,\"}\"):void 0}function Le(e,t){return\"variable\"!=e||s.stream.match(/^\\s*:/,!1)?(\"variable\"==e&&(s.marked=\"property\"),\"spread\"==e?f(E):\"}\"==e?l():\"[\"==e?f(b,k(\"]\"),k(\":\"),Le):f(k(\":\"),E,D)):(p(t),f(D))}function Ae(){return l(E,D)}function D(e,t){if(\"=\"==t)return f(w)}function Ee(e){if(\",\"==e)return f(Te)}function De(e,t){if(\"keyword b\"==e&&\"else\"==t)return f(x(\"form\",\"else\"),y,v)}function je(e,t){return\"await\"==t?f(je):\"(\"==e?f(x(\")\"),Oe,v):void 0}function Oe(e){return\"var\"==e?f(Te,Pe):(\"variable\"==e?f:l)(Pe)}function Pe(e,t){return\")\"==e?f():\";\"==e?f(Pe):(\"in\"==t||\"of\"==t?(s.marked=\"keyword\",f):l)(b,Pe)}function j(e,t){return\"*\"==t?(s.marked=\"keyword\",f(j)):\"variable\"==e?(p(t),f(j)):\"(\"==e?f(h,x(\")\"),M(P,\")\"),v,ke,y,g):c&&\"<\"==t?f(x(\">\"),M(Fe,\">\"),v,j):void 0}function O(e,t){return\"*\"==t?(s.marked=\"keyword\",f(O)):\"variable\"==e?(p(t),f(O)):\"(\"==e?f(h,x(\")\"),M(P,\")\"),v,ke,g):c&&\"<\"==t?f(x(\">\"),M(Fe,\">\"),v,O):void 0}function Ne(e,t){return\"keyword\"==e||\"variable\"==e?(s.marked=\"type\",f(Ne)):\"<\"==t?f(x(\">\"),M(Fe,\">\"),v):void 0}function P(e,t){return\"@\"==t&&f(b,P),\"spread\"==e?f(P):c&&Y(t)?(s.marked=\"keyword\",f(P)):c&&\"this\"==e?f(T,D):l(E,T,D)}function qe(e,t){return(\"variable\"==e?He:ze)(e,t)}function He(e,t){if(\"variable\"==e)return p(t),f(ze)}function ze(e,t){return\"<\"==t?f(x(\">\"),M(Fe,\">\"),v,ze):\"extends\"==t||\"implements\"==t||c&&\",\"==e?(\"implements\"==t&&(s.marked=\"keyword\"),f(c?L:b,ze)):\"{\"==e?f(x(\"}\"),N,v):void 0}function N(e,t){return\"async\"==e||\"variable\"==e&&(\"static\"==t||\"get\"==t||\"set\"==t||c&&Y(t))&&s.stream.match(/^\\s+[\\w$\\xa1-\\uffff]/,!1)?(s.marked=\"keyword\",f(N)):\"variable\"==e||\"keyword\"==s.style?(s.marked=\"property\",f(c?Be:j,N)):\"number\"==e||\"string\"==e?f(c?Be:j,N):\"[\"==e?f(b,T,k(\"]\"),c?Be:j,N):\"*\"==t?(s.marked=\"keyword\",f(N)):c&&\"(\"==e?l(O,N):\";\"==e||\",\"==e?f(N):\"}\"==e?f():\"@\"==t?f(b,N):void 0}function Be(e,t){return\"?\"==t?f(Be):\":\"==e?f(L,D):\"=\"==t?f(w):l((e=s.state.lexical.prev)&&\"interface\"==e.info?O:j)}function Ie(e,t){return\"*\"==t?(s.marked=\"keyword\",f(Ge,k(\";\"))):\"default\"==t?(s.marked=\"keyword\",f(b,k(\";\"))):\"{\"==e?f(M($e,\"}\"),Ge,k(\";\")):l(y)}function $e(e,t){return\"as\"==t?(s.marked=\"keyword\",f(k(\"variable\"))):\"variable\"==e?l(w,$e):void 0}function _e(e){return\"string\"==e?f():\"(\"==e?l(b):l(Re,We,Ge)}function Re(e,t){return\"{\"==e?xe(Re,\"}\"):(\"variable\"==e&&p(t),\"*\"==t&&(s.marked=\"keyword\"),f(Ve))}function We(e){if(\",\"==e)return f(Re,We)}function Ve(e,t){if(\"as\"==t)return s.marked=\"keyword\",f(Re)}function Ge(e,t){if(\"from\"==t)return s.marked=\"keyword\",f(b)}function Ke(e){return\"]\"==e?f():l(M(w,\"]\"))}function Ue(){return l(x(\"form\"),E,k(\"{\"),x(\"}\"),M(Je,\"}\"),v,v)}function Je(){return l(E,D)}function Xe(e,t,n){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(t.lastType)||\"quasi\"==t.lastType&&/\\{\\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return v.lex=g.lex=!0,{startState:function(e){e={tokenize:m,lastType:\"sof\",cc:[],lexical:new J((e||0)-u,0,\"block\",!1),localVars:d.localVars,context:d.localVars&&new Z(null,null,!1),indented:e||0};return d.globalVars&&\"object\"==typeof d.globalVars&&(e.globalVars=d.globalVars),e},token:function(e,t){var n;return e.sol()&&(t.lexical.hasOwnProperty(\"align\")||(t.lexical.align=!1),t.indented=e.indentation(),K(e,t)),t.tokenize!=V&&e.eatSpace()?null:(n=t.tokenize(e,t),\"comment\"==i?n:(t.lastType=\"operator\"!=i||\"++\"!=_&&\"--\"!=_?i:\"incdec\",X(t,n,i,_,e)))},indent:function(e,t){if(e.tokenize==V)return Qe.Pass;if(e.tokenize!=m)return 0;var n,r=t&&t.charAt(0),i=e.lexical;if(!/^\\s*else\\b/.test(t))for(var o=e.cc.length-1;0<=o;--o){var a=e.cc[o];if(a==v)i=i.prev;else if(a!=De)break}for(;(\"stat\"==i.type||\"form\"==i.type)&&(\"}\"==r||(n=e.cc[e.cc.length-1])&&(n==C||n==S)&&!/^[,\\.=+\\-*:?[\\(]/.test(t));)i=i.prev;var s,l=(i=z&&\")\"==i.type&&\"stat\"==i.prev.type?i.prev:i).type,c=r==l;return\"vardef\"==l?i.indented+(\"operator\"==e.lastType||\",\"==e.lastType?i.info.length+1:0):\"form\"==l&&\"{\"==r?i.indented:\"form\"==l?i.indented+u:\"stat\"==l?i.indented+(l=t,\"operator\"==(s=e).lastType||\",\"==s.lastType||R.test(l.charAt(0))||/[,.]/.test(l.charAt(0))?z||u:0):\"switch\"!=i.info||c||0==d.doubleIndentSwitch?i.align?i.column+(c?0:1):i.indented+(c?0:u):i.indented+(/^(?:case|default)\\b/.test(t)?u:2*u)},electricInput:/^\\s*(?:case .*?:|default:|\\{|\\})$/,blockCommentStart:a?null:\"/*\",blockCommentEnd:a?null:\"*/\",blockCommentContinue:a?null:\" * \",lineComment:a?null:\"//\",fold:\"brace\",closeBrackets:\"()[]{}''\\\"\\\"``\",helperType:a?\"json\":\"javascript\",jsonldMode:B,jsonMode:a,expressionAllowed:Xe,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=b&&t!=w||e.cc.pop()}}}),Qe.registerHelper(\"wordChars\",\"javascript\",/[\\w$]/),Qe.defineMIME(\"text/javascript\",\"javascript\"),Qe.defineMIME(\"text/ecmascript\",\"javascript\"),Qe.defineMIME(\"application/javascript\",\"javascript\"),Qe.defineMIME(\"application/x-javascript\",\"javascript\"),Qe.defineMIME(\"application/ecmascript\",\"javascript\"),Qe.defineMIME(\"application/json\",{name:\"javascript\",json:!0}),Qe.defineMIME(\"application/x-json\",{name:\"javascript\",json:!0}),Qe.defineMIME(\"application/ld+json\",{name:\"javascript\",jsonld:!0}),Qe.defineMIME(\"text/typescript\",{name:\"javascript\",typescript:!0}),Qe.defineMIME(\"application/typescript\",{name:\"javascript\",typescript:!0})}),define(\"skylark-codemirror/mode/htmlmixed/htmlmixed\",[\"../../CodeMirror\",\"../xml/xml\",\"../javascript/javascript\",\"../css/css\"],function(u){\"use strict\";var i={script:[[\"lang\",/(javascript|babel)/i,\"javascript\"],[\"type\",/^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,\"javascript\"],[\"type\",/./,\"text/plain\"],[null,null,\"javascript\"]],style:[[\"lang\",/^css$/i,\"css\"],[\"type\",/^(text\\/)?(x-)?(stylesheet|css)$/i,\"css\"],[\"type\",/./,\"text/plain\"],[null,null,\"css\"]]};var n={};function m(e,t){t=e.match(n[e=t]||(n[e]=new RegExp(\"\\\\s+\"+e+\"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\")));return t?/^\\s*(.*?)\\s*$/.exec(t[2])[1]:\"\"}function f(e,t){return new RegExp((t?\"^\":\"\")+\"</s*\"+e+\"s*>\",\"i\")}function o(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),i=e[n],o=i.length-1;0<=o;o--)r.unshift(i[o])}u.defineMode(\"htmlmixed\",function(s,e){var l=u.getMode(s,{name:\"xml\",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),c={},t=e&&e.tags,n=e&&e.scriptTypes;if(o(i,c),t&&o(t,c),n)for(var r=n.length-1;0<=r;r--)c.script.unshift([\"type\",n[r].matches,n[r].mode]);function d(e,t){var n,o,a,r=l.token(e,t.htmlState),i=/\\btag\\b/.test(r);return i&&!/[<>\\s\\/]/.test(e.current())&&(n=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(n)?t.inTag=n+\" \":t.inTag&&i&&/>$/.test(e.current())?(n=/^([\\S]+) (.*)/.exec(t.inTag),t.inTag=null,i=\">\"==e.current()&&function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(m(t,r[0])))return r[2]}}(c[n[1]],n[2]),i=u.getMode(s,i),o=f(n[1],!0),a=f(n[1],!1),t.token=function(e,t){return e.match(o,!1)?(t.token=d,t.localState=t.localMode=null):(n=e,r=a,e=t.localMode.token(e,t.localState),t=n.current(),-1<(i=t.search(r))?n.backUp(t.length-i):t.match(/<\\/?$/)&&(n.backUp(t.length),n.match(r,!1)||n.match(t)),e);var n,r,i},t.localMode=i,t.localState=u.startState(i,l.indent(t.htmlState,\"\",\"\"))):t.inTag&&(t.inTag+=e.current(),e.eol())&&(t.inTag+=\" \"),r}return{startState:function(){return{token:d,inTag:null,localMode:null,localState:null,htmlState:u.startState(l)}},copyState:function(e){var t;return e.localState&&(t=u.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:u.copyState(l,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t,n){return!e.localMode||/^\\s*<\\//.test(t)?l.indent(e.htmlState,t,n):e.localMode.indent?e.localMode.indent(e.localState,t,n):u.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||l}}}},\"xml\",\"javascript\",\"css\"),u.defineMIME(\"text/html\",\"htmlmixed\")}),define(\"skylark-codemirror/mode/meta\",[\"../CodeMirror\"],function(i){\"use strict\";i.modeInfo=[{name:\"APL\",mime:\"text/apl\",mode:\"apl\",ext:[\"dyalog\",\"apl\"]},{name:\"PGP\",mimes:[\"application/pgp\",\"application/pgp-encrypted\",\"application/pgp-keys\",\"application/pgp-signature\"],mode:\"asciiarmor\",ext:[\"asc\",\"pgp\",\"sig\"]},{name:\"ASN.1\",mime:\"text/x-ttcn-asn\",mode:\"asn.1\",ext:[\"asn\",\"asn1\"]},{name:\"Asterisk\",mime:\"text/x-asterisk\",mode:\"asterisk\",file:/^extensions\\.conf$/i},{name:\"Brainfuck\",mime:\"text/x-brainfuck\",mode:\"brainfuck\",ext:[\"b\",\"bf\"]},{name:\"C\",mime:\"text/x-csrc\",mode:\"clike\",ext:[\"c\",\"h\",\"ino\"]},{name:\"C++\",mime:\"text/x-c++src\",mode:\"clike\",ext:[\"cpp\",\"c++\",\"cc\",\"cxx\",\"hpp\",\"h++\",\"hh\",\"hxx\"],alias:[\"cpp\"]},{name:\"Cobol\",mime:\"text/x-cobol\",mode:\"cobol\",ext:[\"cob\",\"cpy\"]},{name:\"C#\",mime:\"text/x-csharp\",mode:\"clike\",ext:[\"cs\"],alias:[\"csharp\"]},{name:\"Clojure\",mime:\"text/x-clojure\",mode:\"clojure\",ext:[\"clj\",\"cljc\",\"cljx\"]},{name:\"ClojureScript\",mime:\"text/x-clojurescript\",mode:\"clojure\",ext:[\"cljs\"]},{name:\"Closure Stylesheets (GSS)\",mime:\"text/x-gss\",mode:\"css\",ext:[\"gss\"]},{name:\"CMake\",mime:\"text/x-cmake\",mode:\"cmake\",ext:[\"cmake\",\"cmake.in\"],file:/^CMakeLists.txt$/},{name:\"CoffeeScript\",mimes:[\"application/vnd.coffeescript\",\"text/coffeescript\",\"text/x-coffeescript\"],mode:\"coffeescript\",ext:[\"coffee\"],alias:[\"coffee\",\"coffee-script\"]},{name:\"Common Lisp\",mime:\"text/x-common-lisp\",mode:\"commonlisp\",ext:[\"cl\",\"lisp\",\"el\"],alias:[\"lisp\"]},{name:\"Cypher\",mime:\"application/x-cypher-query\",mode:\"cypher\",ext:[\"cyp\",\"cypher\"]},{name:\"Cython\",mime:\"text/x-cython\",mode:\"python\",ext:[\"pyx\",\"pxd\",\"pxi\"]},{name:\"Crystal\",mime:\"text/x-crystal\",mode:\"crystal\",ext:[\"cr\"]},{name:\"CSS\",mime:\"text/css\",mode:\"css\",ext:[\"css\"]},{name:\"CQL\",mime:\"text/x-cassandra\",mode:\"sql\",ext:[\"cql\"]},{name:\"D\",mime:\"text/x-d\",mode:\"d\",ext:[\"d\"]},{name:\"Dart\",mimes:[\"application/dart\",\"text/x-dart\"],mode:\"dart\",ext:[\"dart\"]},{name:\"diff\",mime:\"text/x-diff\",mode:\"diff\",ext:[\"diff\",\"patch\"]},{name:\"Django\",mime:\"text/x-django\",mode:\"django\"},{name:\"Dockerfile\",mime:\"text/x-dockerfile\",mode:\"dockerfile\",file:/^Dockerfile$/},{name:\"DTD\",mime:\"application/xml-dtd\",mode:\"dtd\",ext:[\"dtd\"]},{name:\"Dylan\",mime:\"text/x-dylan\",mode:\"dylan\",ext:[\"dylan\",\"dyl\",\"intr\"]},{name:\"EBNF\",mime:\"text/x-ebnf\",mode:\"ebnf\"},{name:\"ECL\",mime:\"text/x-ecl\",mode:\"ecl\",ext:[\"ecl\"]},{name:\"edn\",mime:\"application/edn\",mode:\"clojure\",ext:[\"edn\"]},{name:\"Eiffel\",mime:\"text/x-eiffel\",mode:\"eiffel\",ext:[\"e\"]},{name:\"Elm\",mime:\"text/x-elm\",mode:\"elm\",ext:[\"elm\"]},{name:\"Embedded Javascript\",mime:\"application/x-ejs\",mode:\"htmlembedded\",ext:[\"ejs\"]},{name:\"Embedded Ruby\",mime:\"application/x-erb\",mode:\"htmlembedded\",ext:[\"erb\"]},{name:\"Erlang\",mime:\"text/x-erlang\",mode:\"erlang\",ext:[\"erl\"]},{name:\"Esper\",mime:\"text/x-esper\",mode:\"sql\"},{name:\"Factor\",mime:\"text/x-factor\",mode:\"factor\",ext:[\"factor\"]},{name:\"FCL\",mime:\"text/x-fcl\",mode:\"fcl\"},{name:\"Forth\",mime:\"text/x-forth\",mode:\"forth\",ext:[\"forth\",\"fth\",\"4th\"]},{name:\"Fortran\",mime:\"text/x-fortran\",mode:\"fortran\",ext:[\"f\",\"for\",\"f77\",\"f90\",\"f95\"]},{name:\"F#\",mime:\"text/x-fsharp\",mode:\"mllike\",ext:[\"fs\"],alias:[\"fsharp\"]},{name:\"Gas\",mime:\"text/x-gas\",mode:\"gas\",ext:[\"s\"]},{name:\"Gherkin\",mime:\"text/x-feature\",mode:\"gherkin\",ext:[\"feature\"]},{name:\"GitHub Flavored Markdown\",mime:\"text/x-gfm\",mode:\"gfm\",file:/^(readme|contributing|history).md$/i},{name:\"Go\",mime:\"text/x-go\",mode:\"go\",ext:[\"go\"]},{name:\"Groovy\",mime:\"text/x-groovy\",mode:\"groovy\",ext:[\"groovy\",\"gradle\"],file:/^Jenkinsfile$/},{name:\"HAML\",mime:\"text/x-haml\",mode:\"haml\",ext:[\"haml\"]},{name:\"Haskell\",mime:\"text/x-haskell\",mode:\"haskell\",ext:[\"hs\"]},{name:\"Haskell (Literate)\",mime:\"text/x-literate-haskell\",mode:\"haskell-literate\",ext:[\"lhs\"]},{name:\"Haxe\",mime:\"text/x-haxe\",mode:\"haxe\",ext:[\"hx\"]},{name:\"HXML\",mime:\"text/x-hxml\",mode:\"haxe\",ext:[\"hxml\"]},{name:\"ASP.NET\",mime:\"application/x-aspx\",mode:\"htmlembedded\",ext:[\"aspx\"],alias:[\"asp\",\"aspx\"]},{name:\"HTML\",mime:\"text/html\",mode:\"htmlmixed\",ext:[\"html\",\"htm\",\"handlebars\",\"hbs\"],alias:[\"xhtml\"]},{name:\"HTTP\",mime:\"message/http\",mode:\"http\"},{name:\"IDL\",mime:\"text/x-idl\",mode:\"idl\",ext:[\"pro\"]},{name:\"Pug\",mime:\"text/x-pug\",mode:\"pug\",ext:[\"jade\",\"pug\"],alias:[\"jade\"]},{name:\"Java\",mime:\"text/x-java\",mode:\"clike\",ext:[\"java\"]},{name:\"Java Server Pages\",mime:\"application/x-jsp\",mode:\"htmlembedded\",ext:[\"jsp\"],alias:[\"jsp\"]},{name:\"JavaScript\",mimes:[\"text/javascript\",\"text/ecmascript\",\"application/javascript\",\"application/x-javascript\",\"application/ecmascript\"],mode:\"javascript\",ext:[\"js\"],alias:[\"ecmascript\",\"js\",\"node\"]},{name:\"JSON\",mimes:[\"application/json\",\"application/x-json\"],mode:\"javascript\",ext:[\"json\",\"map\"],alias:[\"json5\"]},{name:\"JSON-LD\",mime:\"application/ld+json\",mode:\"javascript\",ext:[\"jsonld\"],alias:[\"jsonld\"]},{name:\"JSX\",mime:\"text/jsx\",mode:\"jsx\",ext:[\"jsx\"]},{name:\"Jinja2\",mime:\"text/jinja2\",mode:\"jinja2\",ext:[\"j2\",\"jinja\",\"jinja2\"]},{name:\"Julia\",mime:\"text/x-julia\",mode:\"julia\",ext:[\"jl\"]},{name:\"Kotlin\",mime:\"text/x-kotlin\",mode:\"clike\",ext:[\"kt\"]},{name:\"LESS\",mime:\"text/x-less\",mode:\"css\",ext:[\"less\"]},{name:\"LiveScript\",mime:\"text/x-livescript\",mode:\"livescript\",ext:[\"ls\"],alias:[\"ls\"]},{name:\"Lua\",mime:\"text/x-lua\",mode:\"lua\",ext:[\"lua\"]},{name:\"Markdown\",mime:\"text/x-markdown\",mode:\"markdown\",ext:[\"markdown\",\"md\",\"mkd\"]},{name:\"mIRC\",mime:\"text/mirc\",mode:\"mirc\"},{name:\"MariaDB SQL\",mime:\"text/x-mariadb\",mode:\"sql\"},{name:\"Mathematica\",mime:\"text/x-mathematica\",mode:\"mathematica\",ext:[\"m\",\"nb\"]},{name:\"Modelica\",mime:\"text/x-modelica\",mode:\"modelica\",ext:[\"mo\"]},{name:\"MUMPS\",mime:\"text/x-mumps\",mode:\"mumps\",ext:[\"mps\"]},{name:\"MS SQL\",mime:\"text/x-mssql\",mode:\"sql\"},{name:\"mbox\",mime:\"application/mbox\",mode:\"mbox\",ext:[\"mbox\"]},{name:\"MySQL\",mime:\"text/x-mysql\",mode:\"sql\"},{name:\"Nginx\",mime:\"text/x-nginx-conf\",mode:\"nginx\",file:/nginx.*\\.conf$/i},{name:\"NSIS\",mime:\"text/x-nsis\",mode:\"nsis\",ext:[\"nsh\",\"nsi\"]},{name:\"NTriples\",mimes:[\"application/n-triples\",\"application/n-quads\",\"text/n-triples\"],mode:\"ntriples\",ext:[\"nt\",\"nq\"]},{name:\"Objective-C\",mime:\"text/x-objectivec\",mode:\"clike\",ext:[\"m\",\"mm\"],alias:[\"objective-c\",\"objc\"]},{name:\"OCaml\",mime:\"text/x-ocaml\",mode:\"mllike\",ext:[\"ml\",\"mli\",\"mll\",\"mly\"]},{name:\"Octave\",mime:\"text/x-octave\",mode:\"octave\",ext:[\"m\"]},{name:\"Oz\",mime:\"text/x-oz\",mode:\"oz\",ext:[\"oz\"]},{name:\"Pascal\",mime:\"text/x-pascal\",mode:\"pascal\",ext:[\"p\",\"pas\"]},{name:\"PEG.js\",mime:\"null\",mode:\"pegjs\",ext:[\"jsonld\"]},{name:\"Perl\",mime:\"text/x-perl\",mode:\"perl\",ext:[\"pl\",\"pm\"]},{name:\"PHP\",mimes:[\"text/x-php\",\"application/x-httpd-php\",\"application/x-httpd-php-open\"],mode:\"php\",ext:[\"php\",\"php3\",\"php4\",\"php5\",\"php7\",\"phtml\"]},{name:\"Pig\",mime:\"text/x-pig\",mode:\"pig\",ext:[\"pig\"]},{name:\"Plain Text\",mime:\"text/plain\",mode:\"null\",ext:[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\"]},{name:\"PLSQL\",mime:\"text/x-plsql\",mode:\"sql\",ext:[\"pls\"]},{name:\"PowerShell\",mime:\"application/x-powershell\",mode:\"powershell\",ext:[\"ps1\",\"psd1\",\"psm1\"]},{name:\"Properties files\",mime:\"text/x-properties\",mode:\"properties\",ext:[\"properties\",\"ini\",\"in\"],alias:[\"ini\",\"properties\"]},{name:\"ProtoBuf\",mime:\"text/x-protobuf\",mode:\"protobuf\",ext:[\"proto\"]},{name:\"Python\",mime:\"text/x-python\",mode:\"python\",ext:[\"BUILD\",\"bzl\",\"py\",\"pyw\"],file:/^(BUCK|BUILD)$/},{name:\"Puppet\",mime:\"text/x-puppet\",mode:\"puppet\",ext:[\"pp\"]},{name:\"Q\",mime:\"text/x-q\",mode:\"q\",ext:[\"q\"]},{name:\"R\",mime:\"text/x-rsrc\",mode:\"r\",ext:[\"r\",\"R\"],alias:[\"rscript\"]},{name:\"reStructuredText\",mime:\"text/x-rst\",mode:\"rst\",ext:[\"rst\"],alias:[\"rst\"]},{name:\"RPM Changes\",mime:\"text/x-rpm-changes\",mode:\"rpm\"},{name:\"RPM Spec\",mime:\"text/x-rpm-spec\",mode:\"rpm\",ext:[\"spec\"]},{name:\"Ruby\",mime:\"text/x-ruby\",mode:\"ruby\",ext:[\"rb\"],alias:[\"jruby\",\"macruby\",\"rake\",\"rb\",\"rbx\"]},{name:\"Rust\",mime:\"text/x-rustsrc\",mode:\"rust\",ext:[\"rs\"]},{name:\"SAS\",mime:\"text/x-sas\",mode:\"sas\",ext:[\"sas\"]},{name:\"Sass\",mime:\"text/x-sass\",mode:\"sass\",ext:[\"sass\"]},{name:\"Scala\",mime:\"text/x-scala\",mode:\"clike\",ext:[\"scala\"]},{name:\"Scheme\",mime:\"text/x-scheme\",mode:\"scheme\",ext:[\"scm\",\"ss\"]},{name:\"SCSS\",mime:\"text/x-scss\",mode:\"css\",ext:[\"scss\"]},{name:\"Shell\",mimes:[\"text/x-sh\",\"application/x-sh\"],mode:\"shell\",ext:[\"sh\",\"ksh\",\"bash\"],alias:[\"bash\",\"sh\",\"zsh\"],file:/^PKGBUILD$/},{name:\"Sieve\",mime:\"application/sieve\",mode:\"sieve\",ext:[\"siv\",\"sieve\"]},{name:\"Slim\",mimes:[\"text/x-slim\",\"application/x-slim\"],mode:\"slim\",ext:[\"slim\"]},{name:\"Smalltalk\",mime:\"text/x-stsrc\",mode:\"smalltalk\",ext:[\"st\"]},{name:\"Smarty\",mime:\"text/x-smarty\",mode:\"smarty\",ext:[\"tpl\"]},{name:\"Solr\",mime:\"text/x-solr\",mode:\"solr\"},{name:\"SML\",mime:\"text/x-sml\",mode:\"mllike\",ext:[\"sml\",\"sig\",\"fun\",\"smackspec\"]},{name:\"Soy\",mime:\"text/x-soy\",mode:\"soy\",ext:[\"soy\"],alias:[\"closure template\"]},{name:\"SPARQL\",mime:\"application/sparql-query\",mode:\"sparql\",ext:[\"rq\",\"sparql\"],alias:[\"sparul\"]},{name:\"Spreadsheet\",mime:\"text/x-spreadsheet\",mode:\"spreadsheet\",alias:[\"excel\",\"formula\"]},{name:\"SQL\",mime:\"text/x-sql\",mode:\"sql\",ext:[\"sql\"]},{name:\"SQLite\",mime:\"text/x-sqlite\",mode:\"sql\"},{name:\"Squirrel\",mime:\"text/x-squirrel\",mode:\"clike\",ext:[\"nut\"]},{name:\"Stylus\",mime:\"text/x-styl\",mode:\"stylus\",ext:[\"styl\"]},{name:\"Swift\",mime:\"text/x-swift\",mode:\"swift\",ext:[\"swift\"]},{name:\"sTeX\",mime:\"text/x-stex\",mode:\"stex\"},{name:\"LaTeX\",mime:\"text/x-latex\",mode:\"stex\",ext:[\"text\",\"ltx\",\"tex\"],alias:[\"tex\"]},{name:\"SystemVerilog\",mime:\"text/x-systemverilog\",mode:\"verilog\",ext:[\"v\",\"sv\",\"svh\"]},{name:\"Tcl\",mime:\"text/x-tcl\",mode:\"tcl\",ext:[\"tcl\"]},{name:\"Textile\",mime:\"text/x-textile\",mode:\"textile\",ext:[\"textile\"]},{name:\"TiddlyWiki \",mime:\"text/x-tiddlywiki\",mode:\"tiddlywiki\"},{name:\"Tiki wiki\",mime:\"text/tiki\",mode:\"tiki\"},{name:\"TOML\",mime:\"text/x-toml\",mode:\"toml\",ext:[\"toml\"]},{name:\"Tornado\",mime:\"text/x-tornado\",mode:\"tornado\"},{name:\"troff\",mime:\"text/troff\",mode:\"troff\",ext:[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\"]},{name:\"TTCN\",mime:\"text/x-ttcn\",mode:\"ttcn\",ext:[\"ttcn\",\"ttcn3\",\"ttcnpp\"]},{name:\"TTCN_CFG\",mime:\"text/x-ttcn-cfg\",mode:\"ttcn-cfg\",ext:[\"cfg\"]},{name:\"Turtle\",mime:\"text/turtle\",mode:\"turtle\",ext:[\"ttl\"]},{name:\"TypeScript\",mime:\"application/typescript\",mode:\"javascript\",ext:[\"ts\"],alias:[\"ts\"]},{name:\"TypeScript-JSX\",mime:\"text/typescript-jsx\",mode:\"jsx\",ext:[\"tsx\"],alias:[\"tsx\"]},{name:\"Twig\",mime:\"text/x-twig\",mode:\"twig\"},{name:\"Web IDL\",mime:\"text/x-webidl\",mode:\"webidl\",ext:[\"webidl\"]},{name:\"VB.NET\",mime:\"text/x-vb\",mode:\"vb\",ext:[\"vb\"]},{name:\"VBScript\",mime:\"text/vbscript\",mode:\"vbscript\",ext:[\"vbs\"]},{name:\"Velocity\",mime:\"text/velocity\",mode:\"velocity\",ext:[\"vtl\"]},{name:\"Verilog\",mime:\"text/x-verilog\",mode:\"verilog\",ext:[\"v\"]},{name:\"VHDL\",mime:\"text/x-vhdl\",mode:\"vhdl\",ext:[\"vhd\",\"vhdl\"]},{name:\"Vue.js Component\",mimes:[\"script/x-vue\",\"text/x-vue\"],mode:\"vue\",ext:[\"vue\"]},{name:\"XML\",mimes:[\"application/xml\",\"text/xml\"],mode:\"xml\",ext:[\"xml\",\"xsl\",\"xsd\",\"svg\"],alias:[\"rss\",\"wsdl\",\"xsd\"]},{name:\"XQuery\",mime:\"application/xquery\",mode:\"xquery\",ext:[\"xy\",\"xquery\"]},{name:\"Yacas\",mime:\"text/x-yacas\",mode:\"yacas\",ext:[\"ys\"]},{name:\"YAML\",mimes:[\"text/x-yaml\",\"text/yaml\"],mode:\"yaml\",ext:[\"yaml\",\"yml\"],alias:[\"yml\"]},{name:\"Z80\",mime:\"text/x-z80\",mode:\"z80\",ext:[\"z80\"]},{name:\"mscgen\",mime:\"text/x-mscgen\",mode:\"mscgen\",ext:[\"mscgen\",\"mscin\",\"msc\"]},{name:\"xu\",mime:\"text/x-xu\",mode:\"mscgen\",ext:[\"xu\"]},{name:\"msgenny\",mime:\"text/x-msgenny\",mode:\"mscgen\",ext:[\"msgenny\"]}];for(var e=0;e<i.modeInfo.length;e++){var t=i.modeInfo[e];t.mimes&&(t.mime=t.mimes[0])}i.findModeByMIME=function(e){e=e.toLowerCase();for(var t=0;t<i.modeInfo.length;t++){var n=i.modeInfo[t];if(n.mime==e)return n;if(n.mimes)for(var r=0;r<n.mimes.length;r++)if(n.mimes[r]==e)return n}return/\\+xml$/.test(e)?i.findModeByMIME(\"application/xml\"):/\\+json$/.test(e)?i.findModeByMIME(\"application/json\"):void 0},i.findModeByExtension=function(e){for(var t=0;t<i.modeInfo.length;t++){var n=i.modeInfo[t];if(n.ext)for(var r=0;r<n.ext.length;r++)if(n.ext[r]==e)return n}},i.findModeByFileName=function(e){for(var t=0;t<i.modeInfo.length;t++){var n=i.modeInfo[t];if(n.file&&n.file.test(e))return n}var r=e.lastIndexOf(\".\"),r=-1<r&&e.substring(r+1,e.length);if(r)return i.findModeByExtension(r)},i.findModeByName=function(e){e=e.toLowerCase();for(var t=0;t<i.modeInfo.length;t++){var n=i.modeInfo[t];if(n.name.toLowerCase()==e)return n;if(n.alias)for(var r=0;r<n.alias.length;r++)if(n.alias[r].toLowerCase()==e)return n}}}),define(\"skylark-codemirror/mode/markdown/markdown\",[\"../../CodeMirror\",\"../xml/xml\",\"../meta\"],function(j){j.defineMode(\"markdown\",function(m,f){var u=j.getMode(m,\"text/html\"),i=\"null\"==u.name;void 0===f.highlightFormatting&&(f.highlightFormatting=!1),void 0===f.maxBlockquoteDepth&&(f.maxBlockquoteDepth=0),void 0===f.taskLists&&(f.taskLists=!1),void 0===f.strikethrough&&(f.strikethrough=!1),void 0===f.emoji&&(f.emoji=!1),void 0===f.fencedCodeBlockHighlighting&&(f.fencedCodeBlockHighlighting=!0),void 0===f.xml&&(f.xml=!0),void 0===f.tokenTypeOverrides&&(f.tokenTypeOverrides={});var e,p={header:\"header\",code:\"comment\",quote:\"quote\",list1:\"variable-2\",list2:\"variable-3\",list3:\"keyword\",hr:\"hr\",image:\"image\",imageAltText:\"image-alt-text\",imageMarker:\"image-marker\",formatting:\"formatting\",linkInline:\"link\",linkEmail:\"link\",linkText:\"link\",linkHref:\"string\",em:\"em\",strong:\"strong\",strikethrough:\"strikethrough\",emoji:\"builtin\"};for(e in p)p.hasOwnProperty(e)&&f.tokenTypeOverrides[e]&&(p[e]=f.tokenTypeOverrides[e]);var h=/^([*\\-_])(?:\\s*\\1){2,}\\s*$/,g=/^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,x=/^\\[(x| )\\](?=\\s)/i,v=f.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,k=/^ *(?:\\={1,}|-{1,})\\s*$/,n=/^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,y=/^(~~~+|```+)[ \\t]*([\\w+#-]*)[^\\n`]*$/,b=/^\\s*\\[[^\\]]+?\\]:.*$/,w=/[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/;function C(e,t,n){return(t.f=t.inline=n)(e,t)}function S(e,t,n){return(t.f=t.block=n)(e,t)}function r(e){var t;return e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==F&&(i||\"xml\"==(t=j.innerMode(u,e.htmlState)).mode.name&&null===t.state.tagStart&&!t.state.context&&t.state.tokenize.isInText)&&(e.f=L,e.block=o,e.htmlState=null),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function o(e,t){var n=e.column()===t.indentation,r=!(r=t.prevLine.stream)||!/\\S/.test(r.string),i=t.indentedCode,o=t.prevLine.hr,a=!1!==t.list,s=(t.listStack[t.listStack.length-1]||0)+3,l=(t.indentedCode=!1,t.indentation);if(null===t.indentationDiff&&(t.indentationDiff=t.indentation,a)){for(t.em=!1,t.strong=!1,t.code=!1,t.strikethrough=!1,t.list=null;l<t.listStack[t.listStack.length-1];)t.listStack.pop(),t.listStack.length?t.indentation=t.listStack[t.listStack.length-1]:t.list=!1;!1!==t.list&&(t.indentationDiff=l-t.listStack[t.listStack.length-1])}var c,d=!(r||o||t.prevLine.header||a&&i||t.prevLine.fencedCodeEnd),o=(!1===t.list||o||r)&&t.indentation<=s&&e.match(h),u=null;return 4<=t.indentationDiff&&(i||t.prevLine.fencedCodeEnd||t.prevLine.header||r)?(e.skipToEnd(),t.indentedCode=!0,p.code):e.eatSpace()?null:n&&t.indentation<=s&&(u=e.match(v))&&u[1].length<=6?(t.quote=0,t.header=u[1].length,t.thisLine.header=!0,f.highlightFormatting&&(t.formatting=\"header\"),t.f=t.inline,T(t)):t.indentation<=s&&e.eat(\">\")?(t.quote=n?1:t.quote+1,f.highlightFormatting&&(t.formatting=\"quote\"),e.eatSpace(),T(t)):!o&&!t.setext&&n&&t.indentation<=s&&(u=e.match(g))?(i=u[1]?\"ol\":\"ul\",t.indentation=l+e.current().length,t.list=!0,t.quote=0,t.listStack.push(t.indentation),f.taskLists&&e.match(x,!1)&&(t.taskList=!0),t.f=t.inline,f.highlightFormatting&&(t.formatting=[\"list\",\"list-\"+i]),T(t)):n&&t.indentation<=s&&(u=e.match(y,!0))?(t.quote=0,t.fencedEndRE=new RegExp(u[1]+\"+ *$\"),t.localMode=f.fencedCodeBlockHighlighting&&(r=u[2],j.findModeByName&&(c=j.findModeByName(r))&&(r=c.mime||c.mimes[0]),\"null\"==(c=j.getMode(m,r)).name?null:c),t.localMode&&(t.localState=j.startState(t.localMode)),t.f=t.block=M,f.highlightFormatting&&(t.formatting=\"code-block\"),t.code=-1,T(t)):t.setext||!(d&&a||t.quote||!1!==t.list||t.code||o||b.test(e.string))&&(u=(u=e.lookAhead(1))&&u.match(k))?(t.setext?(t.header=t.setext,t.setext=0,e.skipToEnd(),f.highlightFormatting&&(t.formatting=\"header\")):(t.header=\"=\"==u[0].charAt(0)?1:2,t.setext=t.header),t.thisLine.header=!0,t.f=t.inline,T(t)):o?(e.skipToEnd(),t.hr=!0,t.thisLine.hr=!0,p.hr):\"[\"===e.peek()?C(e,t,D):C(e,t,t.inline)}function F(e,t){var n,r=u.token(e,t.htmlState);return!i&&(\"xml\"==(n=j.innerMode(u,t.htmlState)).mode.name&&null===n.state.tagStart&&!n.state.context&&n.state.tokenize.isInText||t.md_inside&&-1<e.current().indexOf(\">\"))&&(t.f=L,t.block=o,t.htmlState=null),r}function M(e,t){var n,r=t.listStack[t.listStack.length-1]||0,i=t.indentation<r;return t.fencedEndRE&&t.indentation<=r+3&&(i||e.match(t.fencedEndRE))?(f.highlightFormatting&&(t.formatting=\"code-block\"),i||(n=T(t)),t.localMode=t.localState=null,t.block=o,t.f=L,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,i?S(e,t,t.block):n):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),p.code)}function T(e){var t,n=[];if(e.formatting){n.push(p.formatting),\"string\"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)n.push(p.formatting+\"-\"+e.formatting[r]),\"header\"===e.formatting[r]&&n.push(p.formatting+\"-\"+e.formatting[r]+\"-\"+e.header),\"quote\"===e.formatting[r]&&(!f.maxBlockquoteDepth||f.maxBlockquoteDepth>=e.quote?n.push(p.formatting+\"-\"+e.formatting[r]+\"-\"+e.quote):n.push(\"error\"))}return e.taskOpen?n.push(\"meta\"):e.taskClosed?n.push(\"property\"):(e.linkHref?n.push(p.linkHref,\"url\"):(e.strong&&n.push(p.strong),e.em&&n.push(p.em),e.strikethrough&&n.push(p.strikethrough),e.emoji&&n.push(p.emoji),e.linkText&&n.push(p.linkText),e.code&&n.push(p.code),e.image&&n.push(p.image),e.imageAltText&&n.push(p.imageAltText,\"link\"),e.imageMarker&&n.push(p.imageMarker)),e.header&&n.push(p.header,p.header+\"-\"+e.header),e.quote&&(n.push(p.quote),!f.maxBlockquoteDepth||f.maxBlockquoteDepth>=e.quote?n.push(p.quote+\"-\"+e.quote):n.push(p.quote+\"-\"+f.maxBlockquoteDepth)),!1!==e.list&&(t=(e.listStack.length-1)%3,n.push(t?1==t?p.list2:p.list3:p.list1)),e.trailingSpaceNewLine?n.push(\"trailing-space-new-line\"):e.trailingSpace&&n.push(\"trailing-space-\"+(e.trailingSpace%2?\"a\":\"b\"))),n.length?n.join(\" \"):null}function t(e,t){if(e.match(n,!0))return T(t)}function L(e,t){var n=t.text(e,t);if(void 0!==n)return n;if(t.list)t.list=null;else if(t.taskList)\" \"===e.match(x,!0)[1]?t.taskOpen=!0:t.taskClosed=!0,f.highlightFormatting&&(t.formatting=\"task\"),t.taskList=!1;else if(t.taskOpen=!1,t.taskClosed=!1,t.header&&e.match(/^#+$/,!0))f.highlightFormatting&&(t.formatting=\"header\");else{var r=e.next();if(t.linkTitle){t.linkTitle=!1;var n=((n=\"(\"===r?\")\":r)+\"\").replace(/([.?*+^\\[\\]\\\\(){}|-])/g,\"\\\\$1\");if(e.match(new RegExp(\"^\\\\s*(?:[^\"+n+\"\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)\"+n),!0))return p.linkHref}if(\"`\"===r)return n=t.formatting,f.highlightFormatting&&(t.formatting=\"code\"),e.eatWhile(\"`\"),s=e.current().length,0!=t.code||t.quote&&1!=s?s==t.code?(a=T(t),t.code=0,a):(t.formatting=n,T(t)):(t.code=s,T(t));if(!t.code){if(\"\\\\\"===r)if(e.next(),f.highlightFormatting)return o=T(t),n=p.formatting+\"-escape\",o?o+\" \"+n:n;if(\"!\"===r&&e.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/,!1))t.imageMarker=!0,t.image=!0,f.highlightFormatting&&(t.formatting=\"image\");else if(\"[\"===r&&t.imageMarker&&e.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/,!1))t.imageMarker=!1,t.imageAltText=!0,f.highlightFormatting&&(t.formatting=\"image\");else{if(\"]\"===r&&t.imageAltText)return f.highlightFormatting&&(t.formatting=\"image\"),o=T(t),t.imageAltText=!1,t.image=!1,t.inline=t.f=E,o;if(\"[\"!==r||t.image){if(\"]\"===r&&t.linkText)return f.highlightFormatting&&(t.formatting=\"link\"),o=T(t),t.linkText=!1,t.inline=t.f=e.match(/\\(.*?\\)| ?\\[.*?\\]/,!1)?E:L,o;if(\"<\"===r&&e.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/,!1))return t.f=t.inline=A,f.highlightFormatting&&(t.formatting=\"link\"),(o=T(t))?o+=\" \":o=\"\",o+p.linkInline;if(\"<\"===r&&e.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/,!1))return t.f=t.inline=A,f.highlightFormatting&&(t.formatting=\"link\"),(o=T(t))?o+=\" \":o=\"\",o+p.linkEmail;if(f.xml&&\"<\"===r&&e.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i,!1))return-1!=(s=e.string.indexOf(\">\",e.pos))&&(n=e.string.substring(e.start,s),/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(n))&&(t.md_inside=!0),e.backUp(1),t.htmlState=j.startState(u),S(e,t,F);if(f.xml&&\"<\"===r&&e.match(/^\\/\\w*?>/))return t.md_inside=!1,\"tag\";if(\"*\"===r||\"_\"===r){for(var i=1,o=1==e.pos?\" \":e.string.charAt(e.pos-2);i<3&&e.eat(r);)i++;var a,s=e.peek()||\" \",n=!/\\s/.test(s)&&(!w.test(s)||/\\s/.test(o)||w.test(o)),l=!/\\s/.test(o)&&(!w.test(o)||/\\s/.test(s)||w.test(s)),c=null,d=null;if(i%2&&(t.em||!n||\"*\"!==r&&l&&!w.test(o)?t.em!=r||!l||\"*\"!==r&&n&&!w.test(s)||(c=!1):c=!0),1<i&&(t.strong||!n||\"*\"!==r&&l&&!w.test(o)?t.strong!=r||!l||\"*\"!==r&&n&&!w.test(s)||(d=!1):d=!0),null!=d||null!=c)return f.highlightFormatting&&(t.formatting=null==c?\"strong\":null==d?\"em\":\"strong em\"),!0===c&&(t.em=r),!0===d&&(t.strong=r),a=T(t),!1===c&&(t.em=!1),!1===d&&(t.strong=!1),a}else if(\" \"===r&&(e.eat(\"*\")||e.eat(\"_\"))){if(\" \"===e.peek())return T(t);e.backUp(1)}if(f.strikethrough)if(\"~\"===r&&e.eatWhile(r)){if(t.strikethrough)return f.highlightFormatting&&(t.formatting=\"strikethrough\"),a=T(t),t.strikethrough=!1,a;if(e.match(/^[^\\s]/,!1))return t.strikethrough=!0,f.highlightFormatting&&(t.formatting=\"strikethrough\"),T(t)}else if(\" \"===r&&e.match(/^~~/,!0)){if(\" \"===e.peek())return T(t);e.backUp(2)}if(f.emoji&&\":\"===r&&e.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/))return t.emoji=!0,f.highlightFormatting&&(t.formatting=\"emoji\"),o=T(t),t.emoji=!1,o;\" \"===r&&(e.match(/^ +$/,!1)?t.trailingSpace++:t.trailingSpace&&(t.trailingSpaceNewLine=!0))}else t.linkText&&e.match(/^.*?\\]/)||(t.linkText=!0,f.highlightFormatting&&(t.formatting=\"link\"))}}}return T(t)}function A(e,t){return\">\"===e.next()?(t.f=t.inline=L,f.highlightFormatting&&(t.formatting=\"link\"),(t=T(t))?t+=\" \":t=\"\",t+p.linkInline):(e.match(/^[^>]+/,!0),p.linkInline)}function E(e,t){var r;return e.eatSpace()?null:\"(\"===(e=e.next())||\"[\"===e?(t.f=t.inline=(r=\"(\"===e?\")\":\"]\",function(e,t){var n;return e.next()===r?(t.f=t.inline=L,f.highlightFormatting&&(t.formatting=\"link-string\"),n=T(t),t.linkHref=!1,n):(e.match(a[r]),t.linkHref=!0,T(t))}),f.highlightFormatting&&(t.formatting=\"link-string\"),t.linkHref=!0,T(t)):\"error\"}var a={\")\":/^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\"]\":/^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/};function D(e,t){return e.match(/^([^\\]\\\\]|\\\\.)*\\]:/,!1)?(t.f=s,e.next(),f.highlightFormatting&&(t.formatting=\"link\"),t.linkText=!0,T(t)):C(e,t,L)}function s(e,t){var n;return e.match(/^\\]:/,!0)?(t.f=t.inline=l,f.highlightFormatting&&(t.formatting=\"link\"),n=T(t),t.linkText=!1,n):(e.match(/^([^\\]\\\\]|\\\\.)+/,!0),p.linkText)}function l(e,t){return e.eatSpace()?null:(e.match(/^[^\\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\\\\\|\\\\.)+\"|'(?:[^'\\\\]|\\\\\\\\|\\\\.)+'|\\((?:[^)\\\\]|\\\\\\\\|\\\\.)+\\)))?/,!0),t.f=t.inline=L,p.linkHref+\" url\")}var c={startState:function(){return{f:o,prevLine:{stream:null},thisLine:{stream:null},block:o,htmlState:null,indentation:0,inline:L,text:t,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&j.copyState(u,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?j.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\\s*$/,!0))return r(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=F)){var n=e.match(/^\\s*/,!0)[0].replace(/\\t/g,\"    \").length;if(t.indentation=n,t.indentationDiff=null,0<n)return null}}return t.f(e,t)},innerMode:function(e){return e.block==F?{state:e.htmlState,mode:u}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:c}},indent:function(e,t,n){return e.block==F&&u.indent?u.indent(e.htmlState,t,n):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,t,n):j.Pass},blankLine:r,getType:T,blockCommentStart:\"\\x3c!--\",blockCommentEnd:\"--\\x3e\",closeBrackets:\"()[]{}''\\\"\\\"``\",fold:\"markdown\"};return c},\"xml\"),j.defineMIME(\"text/markdown\",\"markdown\"),j.defineMIME(\"text/x-markdown\",\"markdown\")}),define(\"skylark-codemirror/addon/comment/comment\",[\"../../CodeMirror\"],function(e){\"use strict\";var b={},w=/[^\\s\\u00a0]/,C=e.Pos;function m(e){e=e.search(w);return-1==e?0:e}function S(e,t){var n=e.getMode();return!1!==n.useInnerComments&&n.innerMode?e.getModeAt(t):n}e.commands.toggleComment=function(e){e.toggleComment()},e.defineExtension(\"toggleComment\",function(e){e=e||b;for(var t=1/0,n=this.listSelections(),r=null,i=n.length-1;0<=i;i--){var o=n[i].from(),a=n[i].to();o.line>=t||(a.line>=t&&(a=C(t,0)),t=o.line,null==r?r=this.uncomment(o,a,e)?\"un\":(this.lineComment(o,a,e),\"line\"):\"un\"==r?this.uncomment(o,a,e):this.lineComment(o,a,e))}}),e.defineExtension(\"lineComment\",function(o,e,a){a=a||b;var s,l,c,d,u=this,t=S(u,o),n=u.getLine(o.line);null!=n&&(n=n,!/\\bstring\\b/.test(u.getTokenTypeAt(C(o.line,0)))||/^[\\'\\\"\\`]/.test(n))&&((s=a.lineComment||t.lineComment)?(l=Math.min(0!=e.ch||e.line==o.line?e.line+1:e.line,u.lastLine()+1),c=null==a.padding?\" \":a.padding,d=a.commentBlankLines||o.line==e.line,u.operation(function(){if(a.indent){for(var e=null,t=o.line;t<l;++t){var n=(r=u.getLine(t)).slice(0,m(r));(null==e||e.length>n.length)&&(e=n)}for(t=o.line;t<l;++t){var r=u.getLine(t),i=e.length;(d||w.test(r))&&(r.slice(0,i)!=e&&(i=m(r)),u.replaceRange(e+s+c,C(t,0),C(t,i)))}}else for(t=o.line;t<l;++t)(d||w.test(u.getLine(t)))&&u.replaceRange(s+c,C(t,0))})):(a.blockCommentStart||t.blockCommentStart)&&(a.fullLines=!0,u.blockComment(o,e,a)))}),e.defineExtension(\"blockComment\",function(r,i,o){o=o||b;var a,s,l=this,c=S(l,r),d=o.blockCommentStart||c.blockCommentStart,u=o.blockCommentEnd||c.blockCommentEnd;d&&u?/\\bcomment\\b/.test(l.getTokenTypeAt(C(r.line,0)))||((a=Math.min(i.line,l.lastLine()))!=r.line&&0==i.ch&&w.test(l.getLine(a))&&--a,s=null==o.padding?\" \":o.padding,r.line>a)||l.operation(function(){if(0!=o.fullLines){var e=w.test(l.getLine(a)),t=(l.replaceRange(s+u,C(a)),l.replaceRange(d+s,C(r.line,0)),o.blockCommentLead||c.blockCommentLead);if(null!=t)for(var n=r.line+1;n<=a;++n)n==a&&!e||l.replaceRange(t+s,C(n,0))}else l.replaceRange(u,i),l.replaceRange(d,r)}):(o.lineComment||c.lineComment)&&0!=o.fullLines&&l.lineComment(r,i,o)}),e.defineExtension(\"uncomment\",function(e,t,n){n=n||b;var i,o=this,r=S(o,e),a=Math.min(0!=t.ch||t.line==e.line?t.line:t.line-1,o.lastLine()),s=Math.min(e.line,a),l=n.lineComment||r.lineComment,c=[],d=null==n.padding?\" \":n.padding;e:if(l){for(var u=s;u<=a;++u){var m=o.getLine(u),f=m.indexOf(l);if(-1==(f=-1<f&&!/comment/.test(o.getTokenTypeAt(C(u,f+1)))?-1:f)&&w.test(m))break e;if(-1<f&&w.test(m.slice(0,f)))break e;c.push(m)}if(o.operation(function(){for(var e=s;e<=a;++e){var t=c[e-s],n=t.indexOf(l),r=n+l.length;n<0||(t.slice(r,r+d.length)==d&&(r+=d.length),i=!0,o.replaceRange(\"\",C(e,n),C(e,r)))}}),i)return!0}var p,h,g,x,v,k=n.blockCommentStart||r.blockCommentStart,y=n.blockCommentEnd||r.blockCommentEnd;return!(!k||!y||(p=n.blockCommentLead||r.blockCommentLead,h=o.getLine(s),-1==(g=h.indexOf(k)))||(x=a==s?h:o.getLine(a),v=x.indexOf(y,a==s?g+k.length:0),n=C(s,g+1),r=C(a,v+1),-1==v)||!/comment/.test(o.getTokenTypeAt(n))||!/comment/.test(o.getTokenTypeAt(r))||-1<o.getRange(n,r,\"\\n\").indexOf(y)||(r=-1==(n=h.lastIndexOf(k,e.ch))?-1:h.slice(0,e.ch).indexOf(y,n+k.length),-1!=n&&-1!=r&&r+y.length!=e.ch)||(r=x.indexOf(y,t.ch),e=x.slice(t.ch).lastIndexOf(k,r-t.ch),n=-1==r||-1==e?-1:t.ch+e,-1!=r&&-1!=n&&n!=t.ch)||(o.operation(function(){o.replaceRange(\"\",C(a,v-(d&&x.slice(v-d.length,v)==d?d.length:0)),C(a,v+y.length));var e=g+k.length;if(d&&h.slice(e,e+d.length)==d&&(e+=d.length),o.replaceRange(\"\",C(s,g),C(s,e)),p)for(var t=s+1;t<=a;++t){var n,r=o.getLine(t),i=r.indexOf(p);-1==i||w.test(r.slice(0,i))||(n=i+p.length,d&&r.slice(n,n+d.length)==d&&(n+=d.length),o.replaceRange(\"\",C(t,i),C(t,n)))}}),0))})}),define(\"skylark-codemirror/addon/selection/active-line\",[\"../../CodeMirror\"],function(r){\"use strict\";var a=\"CodeMirror-activeline\",s=\"CodeMirror-activeline-background\",l=\"CodeMirror-activeline-gutter\";function c(e){for(var t=0;t<e.state.activeLines.length;t++)e.removeLineClass(e.state.activeLines[t],\"wrap\",a),e.removeLineClass(e.state.activeLines[t],\"background\",s),e.removeLineClass(e.state.activeLines[t],\"gutter\",l)}function i(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.getOption(\"styleActiveLine\");(\"object\"==typeof o&&o.nonEmpty?i.anchor.line==i.head.line:i.empty())&&(o=t.getLineHandleVisualStart(i.head.line),n[n.length-1]!=o)&&n.push(o)}!function(e,t){if(e.length==t.length){for(var n=0;n<e.length;n++)if(e[n]!=t[n])return;return 1}}(t.state.activeLines,n)&&t.operation(function(){c(t);for(var e=0;e<n.length;e++)t.addLineClass(n[e],\"wrap\",a),t.addLineClass(n[e],\"background\",s),t.addLineClass(n[e],\"gutter\",l);t.state.activeLines=n})}function o(e,t){i(e,t.ranges)}r.defineOption(\"styleActiveLine\",!1,function(e,t,n){n=n!=r.Init&&n;t!=n&&(n&&(e.off(\"beforeSelectionChange\",o),c(e),delete e.state.activeLines),t)&&(e.state.activeLines=[],i(e,e.listSelections()),e.on(\"beforeSelectionChange\",o))})}),define(\"skylark-codemirror/addon/fold/foldcode\",[\"../../CodeMirror\"],function(d){\"use strict\";function i(i,o,e,a){e&&e.call?(s=e,e=null):s=u(i,e,\"rangeFinder\"),\"number\"==typeof o&&(o=d.Pos(o,0));var s,l=u(i,e,\"minFoldSize\");function t(e){var t=s(i,o);if(!t||t.to.line-t.from.line<l)return null;for(var n=i.findMarksAt(t.from),r=0;r<n.length;++r)if(n[r].__isFold&&\"fold\"!==a){if(!e)return null;t.cleared=!0,n[r].clear()}return t}var n,r,c=t(!0);if(u(i,e,\"scanUp\"))for(;!c&&o.line>i.firstLine();)o=d.Pos(o.line-1,0),c=t(!1);c&&!c.cleared&&\"unfold\"!==a&&(n=function(e,t){e=u(e,t,\"widget\");\"string\"==typeof e?(t=document.createTextNode(e),(e=document.createElement(\"span\")).appendChild(t),e.className=\"CodeMirror-foldmarker\"):e=e&&e.cloneNode(!0);return e}(i,e),d.on(n,\"mousedown\",function(e){r.clear(),d.e_preventDefault(e)}),(r=i.markText(c.from,c.to,{replacedWith:n,clearOnEnter:u(i,e,\"clearOnEnter\"),__isFold:!0})).on(\"clear\",function(e,t){d.signal(i,\"unfold\",i,e,t)}),d.signal(i,\"fold\",i,c.from,c.to))}d.newFoldFunction=function(n,r){return function(e,t){i(e,t,{rangeFinder:n,widget:r})}},d.defineExtension(\"foldCode\",function(e,t,n){i(this,e,t,n)}),d.defineExtension(\"isFolded\",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),d.commands.toggleFold=function(e){e.foldCode(e.getCursor())},d.commands.fold=function(e){e.foldCode(e.getCursor(),null,\"fold\")},d.commands.unfold=function(e){e.foldCode(e.getCursor(),null,\"unfold\")},d.commands.foldAll=function(n){n.operation(function(){for(var e=n.firstLine(),t=n.lastLine();e<=t;e++)n.foldCode(d.Pos(e,0),null,\"fold\")})},d.commands.unfoldAll=function(n){n.operation(function(){for(var e=n.firstLine(),t=n.lastLine();e<=t;e++)n.foldCode(d.Pos(e,0),null,\"unfold\")})},d.registerHelper(\"fold\",\"combine\",function(){var i=Array.prototype.slice.call(arguments,0);return function(e,t){for(var n=0;n<i.length;++n){var r=i[n](e,t);if(r)return r}}}),d.registerHelper(\"fold\",\"auto\",function(e,t){for(var n=e.getHelpers(t,\"fold\"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var r={rangeFinder:d.fold.auto,widget:\"\",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function u(e,t,n){return(t&&void 0!==t[n]||(t=e.options.foldOptions)&&void 0!==t[n]?t:r)[n]}d.defineOption(\"foldOptions\",null),d.defineExtension(\"foldOption\",function(e,t){return u(this,e,t)})}),define(\"skylark-codemirror/addon/fold/foldgutter\",[\"../../CodeMirror\",\"./foldcode\"],function(r){\"use strict\";r.defineOption(\"foldGutter\",!1,function(e,t,n){n&&n!=r.Init&&(e.clearGutter(e.state.foldGutter.options.gutter),e.state.foldGutter=null,e.off(\"gutterClick\",s),e.off(\"change\",u),e.off(\"viewportChange\",m),e.off(\"fold\",f),e.off(\"unfold\",f),e.off(\"swapDoc\",u)),t&&(e.state.foldGutter=new i(function(e){!0===e&&(e={});null==e.gutter&&(e.gutter=\"CodeMirror-foldgutter\");null==e.indicatorOpen&&(e.indicatorOpen=\"CodeMirror-foldgutter-open\");null==e.indicatorFolded&&(e.indicatorFolded=\"CodeMirror-foldgutter-folded\");return e}(t)),a(e),e.on(\"gutterClick\",s),e.on(\"change\",u),e.on(\"viewportChange\",m),e.on(\"fold\",f),e.on(\"unfold\",f),e.on(\"swapDoc\",u))});var l=r.Pos;function i(e){this.options=e,this.from=this.to=0}function c(e,t){for(var n=e.findMarks(l(t,0),l(t+1,0)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return n[r]}function d(e){var t;return\"string\"==typeof e?((t=document.createElement(\"div\")).className=e+\" CodeMirror-guttermarker-subtle\",t):e.cloneNode(!0)}function o(r,e,t){var i=r.state.foldGutter.options,o=e,a=r.foldOption(i,\"minFoldSize\"),s=r.foldOption(i,\"rangeFinder\");r.eachLine(e,t,function(e){var t,n=null;c(r,o)?n=d(i.indicatorFolded):(t=l(o,0),(t=s&&s(r,t))&&t.to.line-t.from.line>=a&&(n=d(i.indicatorOpen))),r.setGutterMarker(e,i.gutter,n),++o})}function a(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function s(e,t,n){var r=e.state.foldGutter;r&&n==(n=r.options).gutter&&((r=c(e,t))?r.clear():e.foldCode(l(t,0),n.rangeFinder))}function u(e){var t,n=e.state.foldGutter;n&&(t=n.options,n.from=n.to=0,clearTimeout(n.changeUpdate),n.changeUpdate=setTimeout(function(){a(e)},t.foldOnChangeTimeSpan||600))}function m(t){var e,n=t.state.foldGutter;n&&(e=n.options,clearTimeout(n.changeUpdate),n.changeUpdate=setTimeout(function(){var e=t.getViewport();n.from==n.to||20<e.from-n.to||20<n.from-e.to?a(t):t.operation(function(){e.from<n.from&&(o(t,e.from,n.from),n.from=e.from),e.to>n.to&&(o(t,n.to,e.to),n.to=e.to)})},e.updateViewportTimeSpan||400))}function f(e,t){var n=e.state.foldGutter;n&&(t=t.line)>=n.from&&t<n.to&&o(e,t,t+1)}}),define(\"skylark-codemirror/addon/fold/brace-fold\",[\"../../CodeMirror\"],function(v){v.registerHelper(\"fold\",\"brace\",function(i,o){var a,s=o.line,l=i.getLine(s);function e(e){for(var t=o.ch,n=0;;){var r=t<=0?-1:l.lastIndexOf(e,t-1);if(-1==r){if(1==n)break;n=1,t=l.length}else{if(1==n&&r<o.ch)break;if(a=i.getTokenTypeAt(v.Pos(s,r+1)),!/^(comment|string)/.test(a))return r+1;t=r-1}}}var t=\"{\",n=\"}\",r=e(\"{\");if(null==r&&(n=\"]\",r=e(t=\"[\")),null!=r){var c,d,u=1,m=i.lastLine();e:for(var f=s;f<=m;++f)for(var p=i.getLine(f),h=f==s?r:0;;){var g=p.indexOf(t,h),x=p.indexOf(n,h);if(g<0&&(g=p.length),x<0&&(x=p.length),(h=Math.min(g,x))==p.length)break;if(i.getTokenTypeAt(v.Pos(f,h+1))==a)if(h==g)++u;else if(!--u){c=f,d=h;break e}++h}if(null!=c&&s!=c)return{from:v.Pos(s,r),to:v.Pos(c,d)}}}),v.registerHelper(\"fold\",\"import\",function(o,e){function t(e){if(e<o.firstLine()||e>o.lastLine())return null;var t=o.getTokenAt(v.Pos(e,1));if(\"keyword\"!=(t=/\\S/.test(t.string)?t:o.getTokenAt(v.Pos(e,t.end+1))).type||\"import\"!=t.string)return null;for(var n=e,r=Math.min(o.lastLine(),e+10);n<=r;++n){var i=o.getLine(n).indexOf(\";\");if(-1!=i)return{startCh:t.end,end:v.Pos(n,i)}}}var n,e=e.line,r=t(e);if(!r||t(e-1)||(n=t(e-2))&&n.end.line==e-1)return null;for(var i=r.end;;){var a=t(i.line+1);if(null==a)break;i=a.end}return{from:o.clipPos(v.Pos(e,r.startCh+1)),to:i}}),v.registerHelper(\"fold\",\"include\",function(n,e){function t(e){var t;return e<n.firstLine()||e>n.lastLine()?null:(t=n.getTokenAt(v.Pos(e,1)),\"meta\"==(t=/\\S/.test(t.string)?t:n.getTokenAt(v.Pos(e,t.end+1))).type&&\"#include\"==t.string.slice(0,8)?t.start+8:void 0)}var e=e.line,r=t(e);if(null==r||null!=t(e-1))return null;for(var i=e;;){if(null==t(i+1))break;++i}return{from:v.Pos(e,r+1),to:n.clipPos(v.Pos(i))}})}),define(\"skylark-codemirror/addon/fold/xml-fold\",[\"../../CodeMirror\"],function(e){\"use strict\";var l=e.Pos;function s(e,t){return e.line-t.line||e.ch-t.ch}var t=\"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",r=new RegExp(\"<(/?)([\"+t+\"][A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD-:.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*)\",\"g\");function c(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?Math.max(r.from,e.firstLine()):e.firstLine(),this.max=r?Math.min(r.to-1,e.lastLine()):e.lastLine()}function d(e,t){e=e.cm.getTokenTypeAt(l(e.line,t));return e&&/\\btag\\b/.test(e)}function i(e){return!(e.line>=e.max)&&(e.ch=0,e.text=e.cm.getLine(++e.line),1)}function u(e){return!(e.line<=e.min)&&(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,1)}function m(e){for(;;){var t,n=e.text.indexOf(\">\",e.ch);if(-1==n){if(i(e))continue;return}if(d(e,n+1))return t=-1<(t=e.text.lastIndexOf(\"/\",n))&&!/\\S/.test(e.text.slice(t+1,n)),e.ch=n+1,t?\"selfClose\":\"regular\";e.ch=n+1}}function f(e){for(;;){var t=e.ch?e.text.lastIndexOf(\"<\",e.ch-1):-1;if(-1==t){if(u(e))continue;return}if(d(e,t+1)){r.lastIndex=t,e.ch=t;var n=r.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function p(e){for(;;){r.lastIndex=e.ch;var t=r.exec(e.text);if(!t){if(i(e))continue;return}if(d(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function h(e,t){for(var n=[];;){var r,i=p(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(r=m(e)))return;if(\"selfClose\"!=r)if(i[1]){for(var s=n.length-1;0<=s;--s)if(n[s]==i[2]){n.length=s;break}if(s<0&&(!t||t==i[2]))return{tag:i[2],from:l(o,a),to:l(e.line,e.ch)}}else n.push(i[2])}}function g(e,t){for(var n=[];;){var r=function(e){for(;;){var t,n=e.ch?e.text.lastIndexOf(\">\",e.ch-1):-1;if(-1==n){if(u(e))continue;return}if(d(e,n+1))return t=-1<(t=e.text.lastIndexOf(\"/\",n))&&!/\\S/.test(e.text.slice(t+1,n)),e.ch=n+1,t?\"selfClose\":\"regular\";e.ch=n}}(e);if(!r)return;if(\"selfClose\"==r)f(e);else{var r=e.line,i=e.ch,o=f(e);if(!o)return;if(o[1])n.push(o[2]);else{for(var a=n.length-1;0<=a;--a)if(n[a]==o[2]){n.length=a;break}if(a<0&&(!t||t==o[2]))return{tag:o[2],from:l(e.line,e.ch),to:l(r,i)}}}}}e.registerHelper(\"fold\",\"xml\",function(e,t){for(var n=new c(e,t.line,0);;){var r=p(n);if(!r||n.line!=t.line)return;var i=m(n);if(!i)return;if(!r[1]&&\"selfClose\"!=i)return i=l(n.line,n.ch),(r=h(n,r[2]))&&0<s(r.from,i)?{from:i,to:r.from}:null}}),e.findMatchingTag=function(e,t,n){var r=new c(e,t.line,t.ch,n);if(-1!=r.text.indexOf(\">\")||-1!=r.text.indexOf(\"<\")){var i=m(r),o=i&&l(r.line,r.ch),a=i&&f(r);if(i&&a&&!(0<s(r,t)))return t={from:l(r.line,r.ch),to:o,tag:a[2]},\"selfClose\"==i?{open:t,close:null,at:\"open\"}:a[1]?{open:g(r,a[2]),close:t,at:\"close\"}:{open:t,close:h(r=new c(e,o.line,o.ch,n),a[2]),at:\"open\"}}},e.findEnclosingTag=function(e,t,n,r){for(var i=new c(e,t.line,t.ch,n);;){var o=g(i,r);if(!o)break;var a=h(new c(e,t.line,t.ch,n),o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,n,r){return h(new c(e,t.line,t.ch,r?{from:0,to:r}:null),n)}}),define(\"skylark-codemirror/addon/fold/indent-fold\",[\"../../CodeMirror\"],function(s){function l(e,t){var n=e.getLine(t),r=n.search(/\\S/);return-1==r||/\\bcomment\\b/.test(e.getTokenTypeAt(s.Pos(t,r+1)))?-1:s.countColumn(n,null,e.getOption(\"tabSize\"))}s.registerHelper(\"fold\",\"indent\",function(e,t){var n=l(e,t.line);if(!(n<0)){for(var r=null,i=t.line+1,o=e.lastLine();i<=o;++i){var a=l(e,i);if(-1!=a){if(!(n<a))break;r=i}}return r?{from:s.Pos(t.line,e.getLine(t.line).length),to:s.Pos(r,e.getLine(r).length)}:void 0}})}),define(\"skylark-codemirror/addon/fold/markdown-fold\",[\"../../CodeMirror\"],function(d){d.registerHelper(\"fold\",\"markdown\",function(t,e){function r(e){e=t.getTokenTypeAt(d.Pos(e,0));return e&&/\\bheader\\b/.test(e)}function n(e,t,n){t=t&&t.match(/^#+/);return t&&r(e)?t[0].length:n&&n.match(/^[=\\-]+\\s*$/)&&r(e+1)?\"=\"==n[0]?1:2:100}var i=t.getLine(e.line),o=t.getLine(e.line+1),a=n(e.line,i,o);if(100!==a){for(var s=t.lastLine(),l=e.line,c=t.getLine(l+2);l<s&&!(n(l+1,o,c)<=a);)o=c,c=t.getLine(++l+2);return{from:d.Pos(e.line,i.length),to:d.Pos(l,t.getLine(l).length)}}})}),define(\"skylark-codemirror/addon/fold/comment-fold\",[\"../../CodeMirror\"],function(y){y.registerGlobalHelper(\"fold\",\"comment\",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(e,t){var n=e.getModeAt(t),r=n.blockCommentStart,i=n.blockCommentEnd;if(r&&i){for(var o,a=t.line,s=e.getLine(a),l=t.ch,c=0;;){var d=l<=0?-1:s.lastIndexOf(r,l-1);if(-1==d){if(1==c)return;c=1,l=s.length}else{if(1==c&&d<t.ch)return;if(/comment/.test(e.getTokenTypeAt(y.Pos(a,d+1)))&&(0==d||s.slice(d-i.length,d)==i||!/comment/.test(e.getTokenTypeAt(y.Pos(a,d))))){o=d+r.length;break}l=d-1}}var u,m,f=1,p=e.lastLine();e:for(var h=a;h<=p;++h)for(var g=e.getLine(h),x=h==a?o:0;;){var v=g.indexOf(r,x),k=g.indexOf(i,x);if(v<0&&(v=g.length),k<0&&(k=g.length),(x=Math.min(v,k))==g.length)break;if(x==v)++f;else if(!--f){u=h,m=x;break e}++x}if(null!=u&&(a!=u||m!=o))return{from:y.Pos(a,o),to:y.Pos(u,m)}}})}),define(\"skylark-codemirror/addon/edit/matchbrackets\",[\"../../CodeMirror\"],function(r){var d=/MSIE \\d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),g=r.Pos,x={\"(\":\")>\",\")\":\"(<\",\"[\":\"]>\",\"]\":\"[<\",\"{\":\"}>\",\"}\":\"{<\",\"<\":\">>\",\">\":\"<<\"};function v(e){return e&&e.bracketRegex||/[(){}[\\]]/}function u(e,t,n){var r=e.getLineHandle(t.line),i=t.ch-1,o=n&&n.afterCursor,a=(null==o&&(o=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className)),v(n)),o=!o&&0<=i&&a.test(r.text.charAt(i))&&x[r.text.charAt(i)]||a.test(r.text.charAt(i+1))&&x[r.text.charAt(++i)];return!o||(a=\">\"==o.charAt(1)?1:-1,n&&n.strict&&0<a!=(i==t.ch))||(r=e.getTokenTypeAt(g(t.line,i+1)),null==(e=s(e,g(t.line,i+(0<a?1:0)),a,r||null,n)))?null:{from:g(t.line,i),to:e&&e.pos,match:e&&e.ch==o.charAt(0),forward:0<a}}function s(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,a=i&&i.maxScanLines||1e3,s=[],l=v(i),c=0<n?Math.min(t.line+a,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-a),d=t.line;d!=c;d+=n){var u=e.getLine(d);if(u){var m=0<n?0:u.length-1,f=0<n?u.length:-1;if(!(u.length>o))for(d==t.line&&(m=t.ch-(n<0?1:0));m!=f;m+=n){var p=u.charAt(m);if(l.test(p)&&(void 0===r||e.getTokenTypeAt(g(d,m+1))==r)){var h=x[p];if(h&&\">\"==h.charAt(1)==0<n)s.push(p);else{if(!s.length)return{pos:g(d,m),ch:p};s.pop()}}}}}return d-n!=(0<n?e.lastLine():e.firstLine())&&null}function t(e,t,n){for(var r=e.state.matchBrackets.maxHighlightLineLength||1e3,i=[],o=e.listSelections(),a=0;a<o.length;a++){var s,l=o[a].empty()&&u(e,o[a].head,n);l&&e.getLine(l.from.line).length<=r&&(s=l.match?\"CodeMirror-matchingbracket\":\"CodeMirror-nonmatchingbracket\",i.push(e.markText(l.from,g(l.from.line,l.from.ch+1),{className:s})),l.to)&&e.getLine(l.to.line).length<=r&&i.push(e.markText(l.to,g(l.to.line,l.to.ch+1),{className:s}))}if(i.length){d&&e.state.focused&&e.focus();function c(){e.operation(function(){for(var e=0;e<i.length;e++)i[e].clear()})}if(!t)return c;setTimeout(c,800)}}function i(e){e.operation(function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=t(e,!1,e.state.matchBrackets)})}r.defineOption(\"matchBrackets\",!1,function(e,t,n){n&&n!=r.Init&&(e.off(\"cursorActivity\",i),e.state.matchBrackets)&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),t&&(e.state.matchBrackets=\"object\"==typeof t?t:{},e.on(\"cursorActivity\",i))}),r.defineExtension(\"matchBrackets\",function(){t(this,!0)}),r.defineExtension(\"findMatchingBracket\",function(e,t,n){return u(this,e,t=!n&&\"boolean\"!=typeof t?t:n?(n.strict=t,n):t?{strict:!0}:null)}),r.defineExtension(\"scanForBracket\",function(e,t,n,r){return s(this,e,t,n,r)})}),define(\"skylark-codemirror/addon/edit/closebrackets\",[\"../../CodeMirror\"],function(k){var n={pairs:\"()[]{}''\\\"\\\"\",closeBefore:\")]}'\\\":;>\",triples:\"\",explode:\"[]{}\"},y=k.Pos;function b(e,t){return\"pairs\"==t&&\"string\"==typeof e?e:(\"object\"==typeof e&&null!=e[t]?e:n)[t]}k.defineOption(\"autoCloseBrackets\",!1,function(e,t,n){n&&n!=k.Init&&(e.removeKeyMap(i),e.state.closeBrackets=null),t&&(r(b(t,\"pairs\")),e.state.closeBrackets=t,e.addKeyMap(i))});var i={Backspace:function(e){var t=w(e);if(!t||e.getOption(\"disableInput\"))return k.Pass;for(var n=b(t,\"pairs\"),r=e.listSelections(),i=0;i<r.length;i++){if(!r[i].empty())return k.Pass;var o=s(e,r[i].head);if(!o||n.indexOf(o)%2!=0)return k.Pass}for(i=r.length-1;0<=i;i--){var a=r[i].head;e.replaceRange(\"\",y(a.line,a.ch-1),y(a.line,a.ch+1),\"+delete\")}},Enter:function(r){var e=w(r),t=e&&b(e,\"explode\");if(!t||r.getOption(\"disableInput\"))return k.Pass;for(var i=r.listSelections(),n=0;n<i.length;n++){if(!i[n].empty())return k.Pass;var o=s(r,i[n].head);if(!o||t.indexOf(o)%2!=0)return k.Pass}r.operation(function(){var e=r.lineSeparator()||\"\\n\";r.replaceSelection(e+e,null),r.execCommand(\"goCharLeft\"),i=r.listSelections();for(var t=0;t<i.length;t++){var n=i[t].head.line;r.indentLine(n,null,!0),r.indentLine(n+1,null,!0)}})}};function r(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r=\"'\"+n+\"'\";i[r]||(i[r]=function(v){return function(e){var i=e,t=v,e=w(i);if(!e||i.getOption(\"disableInput\"))return k.Pass;var n=b(e,\"pairs\"),r=n.indexOf(t);if(-1==r)return k.Pass;for(var o,a=b(e,\"closeBefore\"),s=b(e,\"triples\"),l=n.charAt(r+1)==t,c=i.listSelections(),d=r%2==0,u=0;u<c.length;u++){var m,f=c[u],p=f.head,h=i.getRange(p,y(p.line,p.ch+1));if(d&&!f.empty())m=\"surround\";else if(!l&&d||h!=t)if(l&&1<p.ch&&0<=s.indexOf(t)&&i.getRange(y(p.line,p.ch-2),p)==t+t){if(2<p.ch&&/\\bstring/.test(i.getTokenTypeAt(y(p.line,p.ch-2))))return k.Pass;m=\"addFour\"}else{if(l){f=0==p.ch?\" \":i.getRange(y(p.line,p.ch-1),p);if(k.isWordChar(h)||f==t||k.isWordChar(f))return k.Pass}else if(!d||!(0===h.length||/\\s/.test(h)||-1<a.indexOf(h)))return k.Pass;m=\"both\"}else m=l&&function(e,t){var n=e.getTokenAt(y(t.line,t.ch+1));return/\\bstring/.test(n.type)&&n.start==t.ch&&(0==t.ch||!/\\bstring/.test(e.getTokenTypeAt(t)))}(i,p)?\"both\":0<=s.indexOf(t)&&i.getRange(p,y(p.line,p.ch+3))==t+t+t?\"skipThree\":\"skip\";if(o){if(o!=m)return k.Pass}else o=m}var g=r%2?n.charAt(r-1):t,x=r%2?t:n.charAt(r+1);i.operation(function(){if(\"skip\"==o)i.execCommand(\"goCharRight\");else if(\"skipThree\"==o)for(var e=0;e<3;e++)i.execCommand(\"goCharRight\");else if(\"surround\"==o){for(var t=i.getSelections(),e=0;e<t.length;e++)t[e]=g+t[e]+x;i.replaceSelections(t,\"around\");for(t=i.listSelections().slice(),e=0;e<t.length;e++)t[e]=(n=t[e],r=void 0,r=0<k.cmpPos(n.anchor,n.head),{anchor:new y(n.anchor.line,n.anchor.ch+(r?-1:1)),head:new y(n.head.line,n.head.ch+(r?1:-1))});i.setSelections(t)}else\"both\"==o?(i.replaceSelection(g+x,null),i.triggerElectric(g+x),i.execCommand(\"goCharLeft\")):\"addFour\"==o&&(i.replaceSelection(g+g+g+g,\"before\"),i.execCommand(\"goCharRight\"));var n,r})}}(n))}}function w(e){var t=e.state.closeBrackets;return t&&!t.override&&e.getModeAt(e.getCursor()).closeBrackets||t}function s(e,t){e=e.getRange(y(t.line,t.ch-1),y(t.line,t.ch+1));return 2==e.length?e:null}r(n.pairs+\"`\")}),define(\"skylark-codemirror/addon/edit/trailingspace\",[\"../../CodeMirror\"],function(r){r.defineOption(\"showTrailingSpace\",!1,function(e,t,n){(n=n==r.Init?!1:n)&&!t?e.removeOverlay(\"trailingspace\"):!n&&t&&e.addOverlay({token:function(e){for(var t=e.string.length,n=t;n&&/\\s/.test(e.string.charAt(n-1));--n);return n>e.pos?(e.pos=n,null):(e.pos=t,\"trailingspace\")},name:\"trailingspace\"})})}),define(\"skylark-codemirror/addon/search/searchcursor\",[\"../../CodeMirror\"],function(i){\"use strict\";var g,x,v=i.Pos;function f(e,t){for(var n,r=null!=(r=(n=e).flags)?r:(n.ignoreCase?\"i\":\"\")+(n.global?\"g\":\"\")+(n.multiline?\"m\":\"\"),i=r,o=0;o<t.length;o++)-1==i.indexOf(t.charAt(o))&&(i+=t.charAt(o));return r==i?e:new RegExp(e.source,i)}function p(e,t,n){t=f(t,\"g\");for(var r=n.line,i=n.ch,o=e.lastLine();r<=o;r++,i=0){t.lastIndex=i;var a=e.getLine(r),a=t.exec(a);if(a)return{from:v(r,a.index),to:v(r,a.index+a[0].length),match:a}}}function o(e,t,n){if(!/\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(t.source))return p(e,t,n);t=f(t,\"gm\");for(var r=1,i=n.line,o=e.lastLine();i<=o;){for(var a=0;a<r&&!(o<i);a++)var s=e.getLine(i++),l=null==l?s:l+\"\\n\"+s;r*=2,t.lastIndex=n.ch;var c,d,u,m=t.exec(l);if(m)return u=l.slice(0,m.index).split(\"\\n\"),c=m[0].split(\"\\n\"),d=n.line+u.length-1,u=u[u.length-1].length,{from:v(d,u),to:v(d+c.length-1,1==c.length?u+c[0].length:c[c.length-1].length),match:m}}}function h(e,t){for(var n,r=0;;){t.lastIndex=r;var i=t.exec(e);if(!i)return n;if((r=(n=i).index+(n[0].length||1))==e.length)return n}}function a(e,t,n){t=f(t,\"g\");for(var r=n.line,i=n.ch,o=e.firstLine();o<=r;r--,i=-1){var a=e.getLine(r),a=h(a=-1<i?a.slice(0,i):a,t);if(a)return{from:v(r,a.index),to:v(r,a.index+a[0].length),match:a}}}function s(e,t,n){t=f(t,\"gm\");for(var r=1,i=n.line,o=e.firstLine();o<=i;){for(var a=0;a<r;a++)var s=e.getLine(i--),l=null==l?s.slice(0,n.ch):s+\"\\n\"+l;r*=2;var c,d,u,m=h(l,t);if(m)return u=l.slice(0,m.index).split(\"\\n\"),c=m[0].split(\"\\n\"),d=i+u.length,u=u[u.length-1].length,{from:v(d,u),to:v(d+c.length-1,1==c.length?u+c[0].length:c[c.length-1].length),match:m}}}function k(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=r(e.slice(0,a)).length;if(s==n)return a;n<s?o=a:i=1+a}}function l(e,t,n,r){if(!t.length)return null;var i=r?g:x,o=i(t).split(/\\r|\\n\\r?/);e:for(var a=n.line,s=n.ch,l=e.lastLine()+1-o.length;a<=l;a++,s=0){var c=e.getLine(a).slice(s),d=i(c);if(1==o.length){var u=d.indexOf(o[0]);if(-1!=u)return n=k(c,d,u,i)+s,{from:v(a,k(c,d,u,i)+s),to:v(a,k(c,d,u+o[0].length,i)+s)}}else{u=d.length-o[0].length;if(d.slice(u)==o[0]){for(var m=1;m<o.length-1;m++)if(i(e.getLine(a+m))!=o[m])continue e;var f=e.getLine(a+o.length-1),p=i(f),h=o[o.length-1];if(p.slice(0,h.length)==h)return{from:v(a,k(c,d,u,i)+s),to:v(a+o.length-1,k(f,p,h.length,i))}}}}}function c(e,t,n,r){if(!t.length)return null;var i=r?g:x,o=i(t).split(/\\r|\\n\\r?/);e:for(var a=n.line,s=n.ch,l=e.firstLine()-1+o.length;l<=a;a--,s=-1){var c=e.getLine(a),d=i(c=-1<s?c.slice(0,s):c);if(1==o.length){var u=d.lastIndexOf(o[0]);if(-1!=u)return{from:v(a,k(c,d,u,i)),to:v(a,k(c,d,u+o[0].length,i))}}else{u=o[o.length-1];if(d.slice(0,u.length)==u){for(var m=1,n=a-o.length+1;m<o.length-1;m++)if(i(e.getLine(n+m))!=o[m])continue e;var f=e.getLine(a+1-o.length),p=i(f);if(p.slice(p.length-o[0].length)==o[0])return{from:v(a+1-o.length,k(f,p,f.length-o[0].length,i)),to:v(a,k(c,d,u.length,i))}}}}}function r(n,r,e,t){var i;this.atOccurrence=!1,this.doc=n,e=e?n.clipPos(e):v(0,0),this.pos={from:e,to:e},\"object\"==typeof t?i=t.caseFold:(i=t,t=null),\"string\"==typeof r?(null==i&&(i=!1),this.matches=function(e,t){return(e?c:l)(n,r,t,i)}):(r=f(r,\"gm\"),t&&!1===t.multiline?this.matches=function(e,t){return(e?a:p)(n,r,t)}:this.matches=function(e,t){return(e?s:o)(n,r,t)})}x=String.prototype.normalize?(g=function(e){return e.normalize(\"NFD\").toLowerCase()},function(e){return e.normalize(\"NFD\")}):(g=function(e){return e.toLowerCase()},function(e){return e}),r.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){for(var t,n=this.matches(e,this.doc.clipPos(e?this.pos.from:this.pos.to));n&&0==i.cmpPos(n.from,n.to);)e?n.from.ch?n.from=v(n.from.line,n.from.ch-1):n=n.from.line==this.doc.firstLine()?null:this.matches(e,this.doc.clipPos(v(n.from.line-1))):n.to.ch<this.doc.getLine(n.to.line).length?n.to=v(n.to.line,n.to.ch+1):n=n.to.line==this.doc.lastLine()?null:this.matches(e,v(n.to.line+1,0));return n?(this.pos=n,this.atOccurrence=!0,this.pos.match||!0):(t=v(e?this.doc.firstLine():this.doc.lastLine()+1,0),this.pos={from:t,to:t},this.atOccurrence=!1)},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(e,t){this.atOccurrence&&(e=i.splitLines(e),this.doc.replaceRange(e,this.pos.from,this.pos.to,t),this.pos.to=v(this.pos.from.line+e.length-1,e[e.length-1].length+(1==e.length?this.pos.from.ch:0)))}},i.defineExtension(\"getSearchCursor\",function(e,t,n){return new r(this.doc,e,t,n)}),i.defineDocExtension(\"getSearchCursor\",function(e,t,n){return new r(this,e,t,n)}),i.defineExtension(\"selectMatches\",function(e,t){for(var n=[],r=this.getSearchCursor(e,this.getCursor(\"from\"),t);r.findNext()&&!(0<i.cmpPos(r.to(),this.getCursor(\"to\")));)n.push({anchor:r.from(),head:r.to()});n.length&&this.setSelections(n,0)})}),define(\"skylark-codemirror/addon/dialog/dialog\",[\"../../CodeMirror\"],function(u){function m(e,t,n){var e=e.getWrapperElement(),r=e.appendChild(document.createElement(\"div\"));return r.className=n?\"CodeMirror-dialog CodeMirror-dialog-bottom\":\"CodeMirror-dialog CodeMirror-dialog-top\",\"string\"==typeof t?r.innerHTML=t:r.appendChild(t),u.addClass(e,\"dialog-opened\"),r}function f(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}u.defineExtension(\"openDialog\",function(e,t,n){n=n||{},f(this,null);var r=m(this,e,n.bottom),i=!1,o=this;function a(e){\"string\"==typeof e?s.value=e:i||(i=!0,u.rmClass(r.parentNode,\"dialog-opened\"),r.parentNode.removeChild(r),o.focus(),n.onClose&&n.onClose(r))}var s=r.getElementsByTagName(\"input\")[0];return s?(s.focus(),n.value&&(s.value=n.value,!1!==n.selectValueOnOpen)&&s.select(),n.onInput&&u.on(s,\"input\",function(e){n.onInput(e,s.value,a)}),n.onKeyUp&&u.on(s,\"keyup\",function(e){n.onKeyUp(e,s.value,a)}),u.on(s,\"keydown\",function(e){n&&n.onKeyDown&&n.onKeyDown(e,s.value,a)||((27==e.keyCode||!1!==n.closeOnEnter&&13==e.keyCode)&&(s.blur(),u.e_stop(e),a()),13==e.keyCode&&t(s.value,e))}),!1!==n.closeOnBlur&&u.on(s,\"blur\",a)):(e=r.getElementsByTagName(\"button\")[0])&&(u.on(e,\"click\",function(){a(),o.focus()}),!1!==n.closeOnBlur&&u.on(e,\"blur\",a),e.focus()),a}),u.defineExtension(\"openConfirm\",function(e,t,n){f(this,null);var r=m(this,e,n&&n.bottom),i=r.getElementsByTagName(\"button\"),o=!1,a=this,s=1;function l(){o||(o=!0,u.rmClass(r.parentNode,\"dialog-opened\"),r.parentNode.removeChild(r),a.focus())}i[0].focus();for(var c=0;c<i.length;++c){var d=i[c];!function(t){u.on(d,\"click\",function(e){u.e_preventDefault(e),l(),t&&t(a)})}(t[c]),u.on(d,\"blur\",function(){--s,setTimeout(function(){s<=0&&l()},200)}),u.on(d,\"focus\",function(){++s})}}),u.defineExtension(\"openNotification\",function(e,t){f(this,o);var n,r=m(this,e,t&&t.bottom),i=!1,e=t&&void 0!==t.duration?t.duration:5e3;function o(){i||(i=!0,clearTimeout(n),u.rmClass(r.parentNode,\"dialog-opened\"),r.parentNode.removeChild(r))}return u.on(r,\"click\",function(e){u.e_preventDefault(e),o()}),e&&(n=setTimeout(o,e)),o})}),define(\"skylark-codemirror/addon/search/search\",[\"../../CodeMirror\",\"./searchcursor\",\"../dialog/dialog\"],function(u){\"use strict\";function t(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function m(e){return e.state.search||(e.state.search=new t)}function i(e){return\"string\"==typeof e&&e==e.toLowerCase()}function f(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function p(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function r(e){return e.replace(/\\\\(.)/g,function(e,t){return\"n\"==t?\"\\n\":\"r\"==t?\"\\r\":t})}function o(e){var t=e.match(/^\\/(.*)\\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf(\"i\")?\"\":\"i\")}catch(e){}else e=r(e);return e=(\"string\"==typeof e?\"\"==e:e.test(\"\"))?/x^/:e}function h(e,t,n){var r;t.queryText=n,t.query=o(n),e.removeOverlay(t.overlay,i(t.query)),t.overlay=(r=t.query,n=i(t.query),\"string\"==typeof r?r=new RegExp(r.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,\"\\\\$&\"),n?\"gi\":\"g\"):r.global||(r=new RegExp(r.source,r.ignoreCase?\"gi\":\"g\")),{token:function(e){r.lastIndex=e.pos;var t=r.exec(e.string);if(t&&t.index==e.pos)return e.pos+=t[0].length||1,\"searching\";t?e.pos=t.index:e.skipToEnd()}}),e.addOverlay(t.overlay),e.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=e.showMatchesOnScrollbar(t.query,i(t.query)))}function n(i,t,e,n){var r=m(i);if(r.query)return g(i,t);var o,a,s,l,c,d=i.getSelection()||r.lastQuery;d instanceof RegExp&&\"x^\"==d.source&&(d=null),e&&i.openDialog?(o=null,a=function(e,t){u.e_stop(t),e&&(e!=r.queryText&&(h(i,r,e),r.posFrom=r.posTo=i.getCursor()),o&&(o.style.opacity=1),g(i,t.shiftKey,function(e,t){var n;t.line<3&&document.querySelector&&(n=i.display.wrapper.querySelector(\".CodeMirror-dialog\"))&&n.getBoundingClientRect().bottom-4>i.cursorCoords(t,\"window\").top&&((o=n).style.opacity=.4)}))},e=v(s=i),l=d,c=function(e,t){var n=u.keyName(e),r=i.getOption(\"extraKeys\"),r=r&&r[n]||u.keyMap[i.getOption(\"keyMap\")][n];\"findNext\"==r||\"findPrev\"==r||\"findPersistentNext\"==r||\"findPersistentPrev\"==r?(u.e_stop(e),h(i,m(i),t),i.execCommand(r)):\"find\"!=r&&\"findPersistent\"!=r||(u.e_stop(e),a(t,e))},s.openDialog(e,a,{value:l,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){x(s)},onKeyDown:c}),n&&d&&(h(i,r,d),g(i,t))):p(i,v(i),\"Search for:\",d,function(e){e&&!r.query&&i.operation(function(){h(i,r,e),r.posFrom=r.posTo=i.getCursor(),g(i,t)})})}function g(n,r,i){n.operation(function(){var e=m(n),t=f(n,e.query,r?e.posFrom:e.posTo);(t.find(r)||(t=f(n,e.query,r?u.Pos(n.lastLine()):u.Pos(n.firstLine(),0))).find(r))&&(n.setSelection(t.from(),t.to()),n.scrollIntoView({from:t.from(),to:t.to()},20),e.posFrom=t.from(),e.posTo=t.to(),i)&&i(t.from(),t.to())})}function x(t){t.operation(function(){var e=m(t);e.lastQuery=e.query,e.query&&(e.query=e.queryText=null,t.removeOverlay(e.overlay),e.annotate)&&(e.annotate.clear(),e.annotate=null)})}function v(e){return'<span class=\"CodeMirror-search-label\">'+e.phrase(\"Search:\")+'</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">'+e.phrase(\"(Use /re/ syntax for regexp search)\")+\"</span>\"}function k(t,r,i){t.operation(function(){for(var n,e=f(t,r);e.findNext();)\"string\"!=typeof r?(n=t.getRange(e.from(),e.to()).match(r),e.replace(i.replace(/\\$(\\d)/g,function(e,t){return n[t]}))):e.replace(i)})}function a(d,e){var t,n;d.getOption(\"readOnly\")||(t=d.getSelection()||m(d).lastQuery,n='<span class=\"CodeMirror-search-label\">'+(e?d.phrase(\"Replace all:\"):d.phrase(\"Replace:\"))+\"</span>\",p(d,n+' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">'+d.phrase(\"(Use /re/ syntax for regexp search)\")+\"</span>\",n,t,function(c){c&&(c=o(c),p(d,'<span class=\"CodeMirror-search-label\">'+d.phrase(\"With:\")+'</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>',d.phrase(\"Replace with:\"),\"\",function(o){var a,s,l;o=r(o),e?k(d,c,o):(x(d),a=f(d,c,d.getCursor(\"from\")),l=function(n){a.replace(\"string\"==typeof c?o:o.replace(/\\$(\\d)/g,function(e,t){return n[t]})),s()},(s=function(){var e,t,n,r,i=a.from();!(e=a.findNext())&&(a=f(d,c),!(e=a.findNext())||i&&a.from().line==i.line&&a.from().ch==i.ch)||(d.setSelection(a.from(),a.to()),d.scrollIntoView({from:a.from(),to:a.to()}),r='<span class=\"CodeMirror-search-label\">'+(r=i=d).phrase(\"Replace?\")+\"</span> <button>\"+r.phrase(\"Yes\")+\"</button> <button>\"+r.phrase(\"No\")+\"</button> <button>\"+r.phrase(\"All\")+\"</button> <button>\"+r.phrase(\"Stop\")+\"</button> \",t=d.phrase(\"Replace?\"),n=[function(){l(e)},s,function(){k(d,c,o)}],i.openConfirm?i.openConfirm(r,n):confirm(t)&&n[0]())})())}))}))}u.commands.find=function(e){x(e),n(e)},u.commands.findPersistent=function(e){x(e),n(e,!1,!0)},u.commands.findPersistentNext=function(e){n(e,!1,!0,!0)},u.commands.findPersistentPrev=function(e){n(e,!0,!0,!0)},u.commands.findNext=n,u.commands.findPrev=function(e){n(e,!0)},u.commands.clearSearch=x,u.commands.replace=a,u.commands.replaceAll=function(e){a(e,!0)}}),define(\"skylark-codemirror/addon/scroll/annotatescrollbar\",[\"../../CodeMirror\"],function(e){\"use strict\";function t(e,t){function n(e){clearTimeout(r.doRedraw),r.doRedraw=setTimeout(function(){r.redraw()},e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption(\"scrollButtonHeight\"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement(\"div\")),this.div.style.cssText=\"position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none\",this.computeScale();var r=this;e.on(\"refresh\",this.resizeHandler=function(){clearTimeout(r.doUpdate),r.doUpdate=setTimeout(function(){r.computeScale()&&n(20)},100)}),e.on(\"markerAdded\",this.resizeHandler),e.on(\"markerCleared\",this.resizeHandler),!1!==t.listenForChanges&&e.on(\"change\",this.changeHandler=function(){n(250)})}e.defineExtension(\"annotateScrollbar\",function(e){return new t(this,e=\"string\"==typeof e?{className:e}:e)}),e.defineOption(\"scrollButtonHeight\",0),t.prototype.computeScale=function(){var e=this.cm,e=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.getScrollerElement().scrollHeight;if(e!=this.hScale)return this.hScale=e,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var n=this.cm,t=this.hScale,r=document.createDocumentFragment(),i=this.annotations,o=n.getOption(\"lineWrapping\"),a=o&&1.5*n.defaultTextHeight(),s=null,l=null;function c(e,t){return s!=e.line&&(s=e.line,l=n.getLineHandle(s)),l.widgets&&l.widgets.length||o&&l.height>a?n.charCoords(e,\"local\")[t?\"top\":\"bottom\"]:n.heightAtLine(l,\"local\")+(t?0:l.height)}var d=n.lastLine();if(n.display.barWidth)for(var u,m=0;m<i.length;m++){var f=i[m];if(!(f.to.line>d)){for(var p,h,g=u||c(f.from,!0)*t,x=c(f.to,!1)*t;m<i.length-1&&!(i[m+1].to.line>d)&&!(x+.9<(u=c(i[m+1].from,!0)*t));)x=c((f=i[++m]).to,!1)*t;x!=g&&(p=Math.max(x-g,3),(h=r.appendChild(document.createElement(\"div\"))).style.cssText=\"position: absolute; right: 0px; width: \"+Math.max(n.display.barWidth-1,2)+\"px; top: \"+(g+this.buttonHeight)+\"px; height: \"+p+\"px\",h.className=this.options.className,f.id)&&h.setAttribute(\"annotation-id\",f.id)}}this.div.textContent=\"\",this.div.appendChild(r)},t.prototype.clear=function(){this.cm.off(\"refresh\",this.resizeHandler),this.cm.off(\"markerAdded\",this.resizeHandler),this.cm.off(\"markerCleared\",this.resizeHandler),this.changeHandler&&this.cm.off(\"change\",this.changeHandler),this.div.parentNode.removeChild(this.div)}}),define(\"skylark-codemirror/addon/search/matchesonscrollbar\",[\"../../CodeMirror\",\"./searchcursor\",\"../scroll/annotatescrollbar\"],function(l){\"use strict\";function r(e,t,n,r){this.cm=e;var i,o={listenForChanges:!1};for(i in this.options=r)o[i]=r[i];o.className||(o.className=\"CodeMirror-search-match\"),this.annotation=e.annotateScrollbar(o),this.query=t,this.caseFold=n,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var a=this;e.on(\"change\",this.changeHandler=function(e,t){a.onChange(t)})}l.defineExtension(\"showMatchesOnScrollbar\",function(e,t,n){return new r(this,e,t,n=(n=\"string\"==typeof n?{className:n}:n)||{})});function c(e,t,n){return e<=t?e:Math.max(t,e+n)}r.prototype.findMatches=function(){if(this.gap){for(var e=0;e<this.matches.length;e++){if((t=this.matches[e]).from.line>=this.gap.to)break;t.to.line>=this.gap.from&&this.matches.splice(e--,1)}for(var t,n=this.cm.getSearchCursor(this.query,l.Pos(this.gap.from,0),this.caseFold),r=this.options&&this.options.maxMatches||1e3;n.findNext();){if((t={from:n.from(),to:n.to()}).from.line>=this.gap.to)break;if(this.matches.splice(e++,0,t),this.matches.length>r)break}this.gap=null}},r.prototype.onChange=function(e){var t=e.from.line,n=l.changeEnd(e).line,r=n-e.to.line;if(this.gap?(this.gap.from=Math.min(c(this.gap.from,t,r),e.from.line),this.gap.to=Math.max(c(this.gap.to,t,r),e.from.line)):this.gap={from:e.from.line,to:n+1},r)for(var i=0;i<this.matches.length;i++){var o=this.matches[i],a=c(o.from.line,t,r),a=(a!=o.from.line&&(o.from=l.Pos(a,o.from.ch)),c(o.to.line,t,r));a!=o.to.line&&(o.to=l.Pos(a,o.to.ch))}clearTimeout(this.update);var s=this;this.update=setTimeout(function(){s.updateAfterChange()},250)},r.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},r.prototype.clear=function(){this.cm.off(\"change\",this.changeHandler),this.annotation.clear()}}),define(\"skylark-codemirror/addon/search/match-highlighter\",[\"../../CodeMirror\",\"./matchesonscrollbar\"],function(r){\"use strict\";var n={style:\"matchhighlight\",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function i(e){for(var t in this.options={},n)this.options[t]=(e&&e.hasOwnProperty(t)?e:n)[t];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function o(e){var t=e.state.matchHighlighter;(t.active||e.hasFocus())&&s(e,t)}function a(e){var t=e.state.matchHighlighter;t.active||(t.active=!0,s(e,t))}function s(e,t){clearTimeout(t.timeout),t.timeout=setTimeout(function(){d(e)},t.options.delay)}function l(e,t,n,r){var i,o,a,s=e.state.matchHighlighter;e.addOverlay(s.overlay=(i=t,o=n,a=r,{token:function(e){if(e.match(i)&&(!o||(n=o,!((t=e).start&&n.test(t.string.charAt(t.start-1))||t.pos!=t.string.length&&n.test(t.string.charAt(t.pos))))))return a;var t,n;e.next(),e.skipTo(i.charAt(0))||e.skipToEnd()}})),s.options.annotateScrollbar&&e.showMatchesOnScrollbar&&(r=n?new RegExp(\"\\\\b\"+t.replace(/[\\\\\\[.+*?(){|^$]/g,\"\\\\$&\")+\"\\\\b\"):t,s.matchesonscroll=e.showMatchesOnScrollbar(r,!1,{className:\"CodeMirror-selection-highlight-scrollbar\"}))}function c(e){var t=e.state.matchHighlighter;t.overlay&&(e.removeOverlay(t.overlay),t.overlay=null,t.matchesonscroll)&&(t.matchesonscroll.clear(),t.matchesonscroll=null)}function d(s){s.operation(function(){var e=s.state.matchHighlighter;if(c(s),!s.somethingSelected()&&e.options.showToken){for(var t=!0===e.options.showToken?/[\\w$]/:e.options.showToken,n=s.getCursor(),r=s.getLine(n.line),i=n.ch,o=i;i&&t.test(r.charAt(i-1));)--i;for(;o<r.length&&t.test(r.charAt(o));)++o;i<o&&l(s,r.slice(i,o),t,e.options.style)}else{var n=s.getCursor(\"from\"),a=s.getCursor(\"to\");n.line!=a.line||e.options.wordsOnly&&!function(e,t,n){if(null!==e.getRange(t,n).match(/^\\w+$/)){if(0<t.ch){var r={line:t.line,ch:t.ch-1};if(null===e.getRange(r,t).match(/\\W/))return}if(n.ch<e.getLine(t.line).length){r={line:n.line,ch:n.ch+1};if(null===e.getRange(n,r).match(/\\W/))return}return 1}}(s,n,a)||(n=s.getRange(n,a),(n=e.options.trim?n.replace(/^\\s+|\\s+$/g,\"\"):n).length>=e.options.minChars&&l(s,n,!1,e.options.style))}})}r.defineOption(\"highlightSelectionMatches\",!1,function(e,t,n){n&&n!=r.Init&&(c(e),clearTimeout(e.state.matchHighlighter.timeout),e.state.matchHighlighter=null,e.off(\"cursorActivity\",o),e.off(\"focus\",a)),t&&(n=e.state.matchHighlighter=new i(t),e.hasFocus()?(n.active=!0,d(e)):e.on(\"focus\",a),e.on(\"cursorActivity\",o))})}),define(\"skylark-codemirror/addon/hint/anyword-hint\",[\"../../CodeMirror\"],function(x){\"use strict\";var v=/[\\w$]+/;x.registerHelper(\"hint\",\"anyword\",function(e,t){for(var n=t&&t.word||v,r=t&&t.range||500,i=e.getCursor(),o=e.getLine(i.line),a=i.ch,s=a;s&&n.test(o.charAt(s-1));)--s;for(var l=s!=a&&o.slice(s,a),c=t&&t.list||[],d={},u=new RegExp(n.source,\"g\"),m=-1;m<=1;m+=2)for(var f=i.line,p=Math.min(Math.max(f+m*r,e.firstLine()),e.lastLine())+m;f!=p;f+=m)for(var h,g=e.getLine(f);h=u.exec(g);)f==i.line&&h[0]===l||l&&0!=h[0].lastIndexOf(l,0)||Object.prototype.hasOwnProperty.call(d,h[0])||(d[h[0]]=!0,c.push(h[0]));return{list:c,from:x.Pos(i.line,s),to:x.Pos(i.line,a)}})}),define(\"skylark-codemirror/addon/hint/javascript-hint\",[\"../../CodeMirror\"],function(c){var d=c.Pos;function m(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n])}function n(e,t,n,r){var i=e.getCursor(),o=n(e,i);if(!/\\b(?:string|comment)\\b/.test(o.type)){var a=c.innerMode(e.getMode(),o.state);if(\"json\"!==a.mode.helperType){o.state=a.state,/^[\\w$_]*$/.test(o.string)?o.end>i.ch&&(o.end=i.ch,o.string=o.string.slice(0,i.ch-o.start)):o={start:i.ch,end:i.ch,string:\"\",state:o.state,type:\".\"==o.string?\"property\":null};for(var s=o;\"property\"==s.type;){if(\".\"!=(s=n(e,d(i.line,s.start))).string)return;var s=n(e,d(i.line,s.start)),l=l||[];l.push(s)}return{list:function(e,t,n,r){var i=[],o=e.string,a=r&&r.globalScope||window;function s(e){0!=e.lastIndexOf(o,0)||function(e,t){if(Array.prototype.indexOf)return-1!=e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return 1}(i,e)||i.push(e)}function l(e){\"string\"==typeof e?m(f,s):e instanceof Array?m(p,s):e instanceof Function&&m(h,s);var t=s;if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var n=e;n;n=Object.getPrototypeOf(n))Object.getOwnPropertyNames(n).forEach(t);else for(var r in e)t(r)}if(t&&t.length){var c,d=t.pop();for(d.type&&0===d.type.indexOf(\"variable\")?(r&&r.additionalContext&&(c=r.additionalContext[d.string]),r&&!1===r.useGlobalScope||(c=c||a[d.string])):\"string\"==d.type?c=\"\":\"atom\"==d.type?c=1:\"function\"==d.type&&(null==a.jQuery||\"$\"!=d.string&&\"jQuery\"!=d.string||\"function\"!=typeof a.jQuery?null!=a._&&\"_\"==d.string&&\"function\"==typeof a._&&(c=a._()):c=a.jQuery());null!=c&&t.length;)c=c[t.pop().string];null!=c&&l(c)}else{for(var u=e.state.localVars;u;u=u.next)s(u.name);for(u=e.state.globalVars;u;u=u.next)s(u.name);r&&!1===r.useGlobalScope||l(a),m(n,s)}return i}(o,l,t,r),from:d(i.line,o.start),to:d(i.line,o.end)}}}}function r(e,t){e=e.getTokenAt(t);return t.ch==e.start+1&&\".\"==e.string.charAt(0)?(e.end=e.start,e.string=\".\",e.type=\"property\"):/^\\.[\\w$_]*$/.test(e.string)&&(e.type=\"property\",e.start++,e.string=e.string.replace(/\\./,\"\")),e}c.registerHelper(\"hint\",\"javascript\",function(e,t){return n(e,i,function(e,t){return e.getTokenAt(t)},t)}),c.registerHelper(\"hint\",\"coffeescript\",function(e,t){return n(e,o,r,t)});var f=\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search\".split(\" \"),p=\"length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight \".split(\" \"),h=\"prototype apply call bind\".split(\" \"),i=\"break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield\".split(\" \"),o=\"and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\".split(\" \")}),define(\"skylark-codemirror/addon/lint/javascript-lint\",[\"../../CodeMirror\"],function(c){\"use strict\";c.registerHelper(\"lint\",\"javascript\",function(e,t){if(!window.JSHINT)return window.console&&window.console.error(\"Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run.\"),[];if(t.indent||(t.indent=1),JSHINT(e,t,t.globals),e=JSHINT.data().errors,t=[],e)for(var n=e,r=t,i=0;i<n.length;i++){var o,a,s,l=n[i];l&&(l.line<=0?window.console&&window.console.warn(\"Cannot display JSHint error (invalid line \"+l.line+\")\",l):(o=l.character-1,a=1+o,l.evidence&&-1<(s=l.evidence.substring(o).search(/.\\b/))&&(a+=s),s={message:l.reason,severity:l.code&&l.code.startsWith(\"W\")?\"warning\":\"error\",from:c.Pos(l.line-1,o),to:c.Pos(l.line-1,a)},r.push(s)))}return t})}),define(\"skylark-codemirror/addon/lint/lint\",[\"../../CodeMirror\"],function(p){\"use strict\";var h=\"CodeMirror-lint-markers\";function l(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e,t,n){e=e,t=t,(r=document.createElement(\"div\")).className=\"CodeMirror-lint-tooltip\",r.appendChild(t.cloneNode(!0)),document.body.appendChild(r),p.on(document,\"mousemove\",o),o(e),null!=r.style.opacity&&(r.style.opacity=1);var r,i=r;function o(e){if(!r.parentNode)return p.off(document,\"mousemove\",o);r.style.top=Math.max(0,e.clientY-r.offsetHeight-5)+\"px\",r.style.left=e.clientX+5+\"px\"}function a(){var e;p.off(n,\"mouseout\",a),i&&((e=i).parentNode&&(null==e.style.opacity&&l(e),e.style.opacity=0,setTimeout(function(){l(e)},600)),i=null)}var s=setInterval(function(){if(i)for(var e=n;;e=e.parentNode){if((e=e&&11==e.nodeType?e.host:e)==document.body)return;if(!e){a();break}}if(!i)return clearInterval(s)},400);p.on(n,\"mouseout\",a)}function a(l,e,t){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=t,this.onMouseOver=function(e){var t=l,n=e.target||e.srcElement;if(/\\bCodeMirror-lint-mark-/.test(n.className)){for(var n=n.getBoundingClientRect(),r=(n.left+n.right)/2,n=(n.top+n.bottom)/2,i=t.findMarksAt(t.coordsChar({left:r,top:n},\"client\")),o=[],a=0;a<i.length;++a){var s=i[a].__annotation;s&&o.push(s)}o.length&&!function(e,t){for(var n=t.target||t.srcElement,r=document.createDocumentFragment(),i=0;i<e.length;i++){var o=e[i];r.appendChild(v(o))}g(t,r,n)}(o,e)}},this.waitingFor=0}function x(e){var t=e.state.lint;t.hasGutter&&e.clearGutter(h);for(var n=0;n<t.marked.length;++n)t.marked[n].clear();t.marked.length=0}function v(e){var t=(t=e.severity)||\"error\",n=document.createElement(\"div\");return n.className=\"CodeMirror-lint-message-\"+t,void 0!==e.messageHTML?n.innerHTML=e.messageHTML:n.appendChild(document.createTextNode(e.message)),n}function s(t){var e,n,r,i,o,a=t.state.lint.options,s=a.options||a,l=a.getAnnotations||t.getHelper(p.Pos(0,0),\"lint\");function c(){o=-1,n.off(\"change\",c)}l&&(a.async||l.async?(a=l,r=s,i=(n=t).state.lint,o=++i.waitingFor,n.on(\"change\",c),a(n.getValue(),function(e,t){n.off(\"change\",c),i.waitingFor==o&&(t&&e instanceof p&&(e=t),n.operation(function(){d(n,e)}))},r,n)):(e=l(t.getValue(),s,t))&&(e.then?e.then(function(e){t.operation(function(){d(t,e)})}):t.operation(function(){d(t,e)})))}function d(e,t){x(e);for(var n,r,i=e.state.lint,o=i.options,a=function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i=r.from.line;(t[i]||(t[i]=[])).push(r)}return t}(t),s=0;s<a.length;++s){var l=a[s];if(l){for(var c=null,d=i.hasGutter&&document.createDocumentFragment(),u=0;u<l.length;++u){var m=l[u],f=m.severity;r=f=f||\"error\",c=\"error\"==(n=c)?n:r,o.formatAnnotation&&(m=o.formatAnnotation(m)),i.hasGutter&&d.appendChild(v(m)),m.to&&i.marked.push(e.markText(m.from,m.to,{className:\"CodeMirror-lint-mark-\"+f,__annotation:m}))}i.hasGutter&&e.setGutterMarker(s,h,function(t,e,n,r){var i=document.createElement(\"div\"),o=i;return i.className=\"CodeMirror-lint-marker-\"+e,n&&((o=i.appendChild(document.createElement(\"div\"))).className=\"CodeMirror-lint-marker-multiple\"),0!=r&&p.on(o,\"mouseover\",function(e){g(e,t,o)}),i}(d,c,1<l.length,i.options.tooltips))}}o.onUpdateLinting&&o.onUpdateLinting(t,a,e)}function c(e){var t=e.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){s(e)},t.options.delay||500))}p.defineOption(\"lint\",!1,function(e,t,n){if(n&&n!=p.Init&&(x(e),!1!==e.state.lint.options.lintOnChange&&e.off(\"change\",c),p.off(e.getWrapperElement(),\"mouseover\",e.state.lint.onMouseOver),clearTimeout(e.state.lint.timeout),delete e.state.lint),t){for(var r=e.getOption(\"gutters\"),i=!1,o=0;o<r.length;++o)r[o]==h&&(i=!0);t=e.state.lint=new a(e,(n=t)instanceof Function?{getAnnotations:n}:n&&!0!==n?n:{},i);!1!==t.options.lintOnChange&&e.on(\"change\",c),0!=t.options.tooltips&&\"gutter\"!=t.options.tooltips&&p.on(e.getWrapperElement(),\"mouseover\",t.onMouseOver),s(e)}}),p.defineExtension(\"performLint\",function(){this.state.lint&&s(this)})}),define(\"skylark-codemirror/addon/tern/tern\",[\"../../CodeMirror\"],function(h){\"use strict\";h.TernServer=function(e){var a=this,e=(this.options=e||{},this.options.plugins||(this.options.plugins={}));e.doc_comment||(e.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new i(this):this.server=new tern.Server({getFile:function(e,t){return s(a,e,t)},async:!0,defs:this.options.defs||[],plugins:e}),this.trackChange=function(e,t){var n=a,r=d(n,e),i=n.cachedArgHints,o=(i&&i.doc==e&&0<=v(i.start,t.to)&&(n.cachedArgHints=null),null==(i=r.changed)&&(r.changed=i={from:t.from.line,to:t.from.line}),t.from.line+(t.text.length-1));t.from.line<i.to&&(i.to=i.to-(t.to.line-o)),o>=i.to&&(i.to=o+1),i.from>t.from.line&&(i.from=t.from.line),e.lineCount()>c&&100<t.to-i.from&&setTimeout(function(){r.changed&&100<r.changed.to-r.changed.from&&l(n,r)},200)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(e,t){var c,d,u;d=e,u=t,(c=a).request(d,{type:\"completions\",types:!0,docs:!0,urls:!0},function(e,t){if(e)return w(c,d,e);var n=[],r=\"\",e=t.start,i=t.end;'[\"'==d.getRange(g(e.line,e.ch-2),e)&&'\"]'!=d.getRange(i,g(i.line,i.ch+2))&&(r='\"]');for(var o=0;o<t.completions.length;++o){var a=t.completions[o],s=function(e){e=\"?\"==e?\"unknown\":\"number\"==e||\"string\"==e||\"bool\"==e?e:/^fn\\(/.test(e)?\"fn\":/^\\[/.test(e)?\"array\":\"object\";return m+\"completion \"+m+\"completion-\"+e}(a.type);t.guess&&(s+=\" \"+m+\"guess\"),n.push({text:a.name+r,displayText:a.displayName||a.name,className:s,data:a})}var e={from:e,to:i,list:n},l=null;h.on(e,\"close\",function(){b(l)}),h.on(e,\"update\",function(){b(l)}),h.on(e,\"select\",function(e,t){b(l);e=c.options.completionTip?c.options.completionTip(e.data):e.data.doc;e&&((l=y(t.parentNode.getBoundingClientRect().right+window.pageXOffset,t.getBoundingClientRect().top+window.pageYOffset,e)).className+=\" \"+m+\"hint-doc\")}),u(e)})},this.getHint.async=!0},h.TernServer.prototype={addDoc:function(e,t){var n={doc:t,name:e,changed:null};return this.server.addFile(e,S(this,n)),h.on(t,\"change\",this.trackChange),this.docs[e]=n},delDoc:function(e){e=t(this,e);e&&(h.off(e.doc,\"change\",this.trackChange),delete this.docs[e.name],this.server.delFile(e.name))},hideDoc:function(e){C(this);e=t(this,e);e&&e.changed&&l(this,e)},complete:function(e){e.showHint({hint:this.getHint})},showType:function(e,t,n){r(this,e,t,\"type\",n)},showDocs:function(e,t,n){r(this,e,t,\"documentation\",n)},updateArgHints:function(e){var n=this,r=e;if(C(n),!r.somethingSelected()){e=r.getTokenAt(r.getCursor()).state,e=h.innerMode(r.getMode(),e);if(\"javascript\"==e.mode.name){var t=e.state.lexical;if(\"call\"==t.info){for(var i,o,a=t.pos||0,s=r.getOption(\"tabSize\"),l=r.getCursor().line,c=Math.max(0,l-9),d=!1;c<=l;--l){for(var u=r.getLine(l),m=0,f=0;;){var p=u.indexOf(\"\\t\",f);if(-1==p)break;m+=s-(p+m)%s-1,f=p+1}if(i=t.column-m,\"(\"==u.charAt(i)){d=!0;break}}if(d)o=g(l,i),(e=n.cachedArgHints)&&e.doc==r.getDoc()&&0==v(o,e.start)?x(n,r,a):n.request(r,{type:\"type\",preferFunction:!0,end:o},function(e,t){!e&&t.type&&/^fn\\(/.test(t.type)&&(n.cachedArgHints={start:o,type:function(i){var e=[],o=3;if(\")\"!=i.charAt(o))for(;;){var t=i.slice(o).match(/^([^, \\(\\[\\{]+): /);if(t&&(o+=t[0].length,t=t[1]),e.push({name:t,type:function(e){for(var t=0,n=o;;){var r=i.charAt(o);if(e.test(r)&&!t)return i.slice(n,o);/[{\\[\\(]/.test(r)?++t:/[}\\]\\)]/.test(r)&&--t,++o}}(/[\\),]/)}),\")\"==i.charAt(o))break;o+=2}var n=i.slice(o).match(/^\\) -> (.*)$/);return{args:e,rettype:n&&n[1]}}(t.type),name:t.exprName||t.name||\"fn\",guess:t.guess,doc:r.getDoc()},x(n,r,a))})}}}},jumpToDef:function(e){function t(e){var e={type:\"definition\",variable:e||null},n=d(r,i.getDoc());r.server.request(u(r,n,e),function(e,t){if(e)return w(r,i,e);if(!t.file&&t.url)window.open(t.url);else{if(t.file){e=r.docs[t.file];if(e&&(t=function(e,t){for(var n=t.context.slice(0,t.contextOffset).split(\"\\n\"),r=t.start.line-(n.length-1),i=g(r,(1==n.length?t.start.ch:e.getLine(r).length)-n[0].length),o=e.getLine(r).slice(i.ch),a=1+r;a<e.lineCount()&&o.length<t.context.length;++a)o+=\"\\n\"+e.getLine(a);if(o.slice(0,t.context.length)==t.context)return t;var s,l=e.getSearchCursor(t.context,0,!1),c=1/0;for(;l.findNext();){var d=l.from(),u=1e4*Math.abs(d.line-i.line);(u=u||Math.abs(d.ch-i.ch))<c&&(s=d,c=u)}if(!s)return null;1==n.length?s.ch+=n[0].length:s=g(s.line+(n.length-1),n[n.length-1].length);r=t.start.line==t.end.line?g(s.line,s.ch+(t.end.ch-t.start.ch)):g(s.line+(t.end.line-t.start.line),t.end.ch);return{start:s,end:r}}(e.doc,t)))return r.jumpStack.push({file:n.name,start:i.getCursor(\"from\"),end:i.getCursor(\"to\")}),void o(r,n,e,t.start,t.end)}w(r,i,\"Could not find a definition.\")}})}var r,i;r=this,!function(e){var t=e.getCursor(\"end\"),n=e.getTokenAt(t);return!(n.start<t.ch&&\"comment\"==n.type)&&/[\\w)\\]]/.test(e.getLine(t.line).slice(Math.max(t.ch-1,0),t.ch+1))}(i=e)?n(i,\"Jump to variable\",function(e){e&&t(e)}):t()},jumpBack:function(e){var t,n,r;e=e,n=(t=this).jumpStack.pop(),(r=n&&t.docs[n.file])&&o(t,d(t,e.getDoc()),r,n.start,n.end)},rename:function(e){var u=this,m=e,e=m.getTokenAt(m.getCursor());/\\w/.test(e.string)?n(m,\"New name for \"+e.string,function(e){u.request(m,{type:\"rename\",newName:e,fullDocs:!0},function(e,t){if(e)return w(u,m,e);for(var n,r=u,i=t.changes,o=Object.create(null),a=0;a<i.length;++a){var s=i[a];(o[s.file]||(o[s.file]=[])).push(s)}for(n in o){var l=r.docs[n],c=o[n];if(l){c.sort(function(e,t){return v(t.start,e.start)});for(var d=\"*rename\"+ ++f,a=0;a<c.length;++a){s=c[a];l.doc.replaceRange(s.text,s.start,s.end,d)}}}})}):w(u,m,\"Not at a variable\")},selectName:function(e){var s,l,c;c=d(s=this,(l=e).doc).name,s.request(l,{type:\"refs\"},function(e,t){if(e)return w(s,l,e);for(var n=[],r=0,i=l.getCursor(),o=0;o<t.refs.length;o++){var a=t.refs[o];a.file==c&&(n.push({anchor:a.start,head:a.end}),0<=v(i,a.start))&&v(i,a.end)<=0&&(r=n.length-1)}l.setSelections(n,r)})},request:function(e,n,r,t){var i=this,o=d(this,e.getDoc()),a=u(this,o,n,t),s=a.query&&this.options.queryOptions&&this.options.queryOptions[a.query.type];if(s)for(var l in s)a.query[l]=s[l];this.server.request(a,function(e,t){!e&&i.options.responseFilter&&(t=i.options.responseFilter(o,n,a,e,t)),r(e,t)})},destroy:function(){C(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var g=h.Pos,m=\"CodeMirror-Tern-\",c=250;function s(e,t,n){var r=e.docs[t];r?n(S(e,r)):e.options.getFile?e.options.getFile(t,n):n(null)}function d(e,t,n){for(var r in e.docs){var i=e.docs[r];if(i.doc==t)return i}if(!n)for(var o=0;;++o)if(!e.docs[r=\"[doc\"+(o||\"\")+\"]\"]){n=r;break}return e.addDoc(n,t)}function t(e,t){return\"string\"==typeof t?e.docs[t]:(t=t instanceof h?t.getDoc():t)instanceof h.Doc?d(e,t):void 0}function l(e,t){e.server.request({files:[{type:\"full\",name:t.name,text:S(e,t)}]},function(e){e?window.console.error(e):t.changed=null})}function r(r,i,e,t,o){r.request(i,t,function(e,t){if(e)return w(r,i,e);var n;r.options.typeTip?n=r.options.typeTip(t):(n=p(\"span\",null,p(\"strong\",null,t.type||\"not found\")),t.doc&&n.appendChild(document.createTextNode(\"  \"+t.doc)),t.url&&(n.appendChild(document.createTextNode(\" \")),(e=n.appendChild(p(\"a\",null,\"[docs]\"))).href=t.url,e.target=\"_blank\")),a(i,n,r),o&&o()},e)}function x(e,t,n){C(e);for(var r=e.cachedArgHints,i=r.type,o=p(\"span\",r.guess?m+\"fhint-guess\":null,p(\"span\",m+\"fname\",r.name),\"(\"),a=0;a<i.args.length;++a){a&&o.appendChild(document.createTextNode(\", \"));var s=i.args[a];o.appendChild(p(\"span\",m+\"farg\"+(a==n?\" \"+m+\"farg-current\":\"\"),s.name||\"?\")),\"?\"!=s.type&&(o.appendChild(document.createTextNode(\":\")),o.appendChild(p(\"span\",m+\"type\",s.type)))}o.appendChild(document.createTextNode(i.rettype?\") ->\":\")\")),i.rettype&&o.appendChild(p(\"span\",m+\"type\",i.rettype));var r=t.cursorCoords(null,\"page\"),l=e.activeArgHints=y(r.right+1,r.bottom,o);setTimeout(function(){l.clear=k(t,function(){e.activeArgHints==l&&C(e)})},20)}function o(e,t,n,r,i){n.doc.setSelection(r,i),t!=n&&e.options.switchToDoc&&(C(e),e.options.switchToDoc(n.name,n.doc))}var f=0;function u(e,t,n,r){var i,o=[],a=0,s=!n.fullDocs,r=(s||delete n.fullDocs,(n=\"string\"==typeof n?{type:n}:n).lineCharPositions=!0,null==n.end&&(n.end=r||t.doc.getCursor(\"end\"),t.doc.somethingSelected())&&(n.start=t.doc.getCursor(\"start\")),n.start||n.end);for(i in t.changed?t.doc.lineCount()>c&&!1!=s&&t.changed.to-t.changed.from<100&&t.changed.from<=r.line&&t.changed.to>n.end.line?(o.push(function(e,t,n){for(var r,i=e.doc,o=null,a=null,s=t.line-1,l=Math.max(0,s-50);l<=s;--s){var c=i.getLine(s);c.search(/\\bfunction\\b/)<0||(u=h.countColumn(c,null,4),null!=o&&o<=u)||(o=u,a=s)}null==a&&(a=l);var d=Math.min(i.lastLine(),n.line+20);if(null==o||o==h.countColumn(i.getLine(t.line),null,4))r=d;else for(r=n.line+1;r<d;++r){var u;if((u=h.countColumn(i.getLine(r),null,4))<=o)break}t=g(a,0);return{type:\"part\",name:e.name,offsetLines:t.line,text:i.getRange(t,g(r,n.line==r?null:0))}}(t,r,n.end)),n.file=\"#0\",a=o[0].offsetLines,null!=n.start&&(n.start=g(n.start.line- -a,n.start.ch)),n.end=g(n.end.line-a,n.end.ch)):(o.push({type:\"full\",name:t.name,text:S(e,t)}),n.file=t.name,t.changed=null):n.file=t.name,e.docs){var l=e.docs[i];l.changed&&l!=t&&(o.push({type:\"full\",name:l.name,text:S(e,l)}),l.changed=null)}return{query:n,files:o}}var v=h.cmpPos;function p(e,t){var n=document.createElement(e);t&&(n.className=t);for(var r=2;r<arguments.length;++r){var i=arguments[r];\"string\"==typeof i&&(i=document.createTextNode(i)),n.appendChild(i)}return n}function n(e,t,n){e.openDialog?e.openDialog(t+\": <input type=text>\",n):n(prompt(t,\"\"))}function a(t,e,n){t.state.ternTooltip&&b(t.state.ternTooltip);var r=t.cursorCoords(),i=t.state.ternTooltip=y(r.right+1,r.bottom,e);function o(){var e;t.state.ternTooltip=null,i.parentNode&&((e=i).style.opacity=\"0\",setTimeout(function(){b(e)},1100)),l()}var a=!1,s=!1,l=(h.on(i,\"mousemove\",function(){a=!0}),h.on(i,\"mouseout\",function(e){e=e.relatedTarget||e.toElement;e&&h.contains(i,e)||(s?o():a=!1)}),setTimeout(function(){s=!0,a||o()},n.options.hintDelay||1700),k(t,o))}function k(e,t){return e.on(\"cursorActivity\",t),e.on(\"blur\",t),e.on(\"scroll\",t),e.on(\"setDoc\",t),function(){e.off(\"cursorActivity\",t),e.off(\"blur\",t),e.off(\"scroll\",t),e.off(\"setDoc\",t)}}function y(e,t,n){n=p(\"div\",m+\"tooltip\",n);return n.style.left=e+\"px\",n.style.top=t+\"px\",document.body.appendChild(n),n}function b(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function w(e,t,n){e.options.showError?e.options.showError(t,n):a(t,String(n),e)}function C(e){e.activeArgHints&&(e.activeArgHints.clear&&e.activeArgHints.clear(),b(e.activeArgHints),e.activeArgHints=null)}function S(e,t){var n=t.doc.getValue();return n=e.options.fileFilter?e.options.fileFilter(n,t.name,t.doc):n}function i(t){var n=t.worker=new Worker(t.options.workerScript),r=(n.postMessage({type:\"init\",defs:t.options.defs,plugins:t.options.plugins,scripts:t.options.workerDeps}),0),i={};function o(e,t){t&&(e.id=++r,i[r]=t),n.postMessage(e)}n.onmessage=function(e){var n=e.data;\"getFile\"==n.type?s(t,n.name,function(e,t){o({type:\"getFile\",err:String(e),text:t,id:n.id})}):\"debug\"==n.type?window.console.log(n.message):n.id&&i[n.id]&&(i[n.id](n.err,n.body),delete i[n.id])},n.onerror=function(e){for(var t in i)i[t](e);i={}},this.addFile=function(e,t){o({type:\"add\",name:e,text:t})},this.delFile=function(e){o({type:\"del\",name:e})},this.request=function(e,t){o({type:\"req\",body:e},t)}}}),define(\"skylark-widgets-codepad/addons/edit/codemirror\",[\"skylark-langx/langx\",\"skylark-domx-query\",\"skylark-codemirror/CodeMirror\",\"../../addon\",\"../../util\",\"../../codepad\",\"skylark-codemirror/mode/xml/xml\",\"skylark-codemirror/mode/css/css\",\"skylark-codemirror/mode/javascript/javascript\",\"skylark-codemirror/mode/htmlmixed/htmlmixed\",\"skylark-codemirror/mode/markdown/markdown\",\"skylark-codemirror/addon/comment/comment\",\"skylark-codemirror/addon/selection/active-line\",\"skylark-codemirror/addon/fold/foldcode\",\"skylark-codemirror/addon/fold/foldgutter\",\"skylark-codemirror/addon/fold/brace-fold\",\"skylark-codemirror/addon/fold/xml-fold\",\"skylark-codemirror/addon/fold/indent-fold\",\"skylark-codemirror/addon/fold/markdown-fold\",\"skylark-codemirror/addon/fold/comment-fold\",\"skylark-codemirror/addon/edit/matchbrackets\",\"skylark-codemirror/addon/edit/closebrackets\",\"skylark-codemirror/addon/edit/trailingspace\",\"skylark-codemirror/addon/search/searchcursor\",\"skylark-codemirror/addon/search/search\",\"skylark-codemirror/addon/search/match-highlighter\",\"skylark-codemirror/addon/dialog/dialog\",\"skylark-codemirror/addon/hint/anyword-hint\",\"skylark-codemirror/addon/hint/javascript-hint\",\"skylark-codemirror/addon/lint/javascript-lint\",\"skylark-codemirror/addon/lint/lint\",\"skylark-codemirror/addon/tern/tern\"],function(o,l,c,e,d,t){\"use strict\";class n extends e{get options(){return{highlightLine:!0,lineNumbers:!0,lineWrapping:!0,foldGutter:!0,gutters:[\"CodeMirror-linenumbers\",\"CodeMirror-foldgutter\"],pluginCssClass:\"codepad-plugin-codemirror\"}}_init(){super._init();for(var e=this.coder,t=(this.options,this.editors={},{html:\"htmlmixed\"}),n=this.options,r=e.$(\".codepad-editor\"),i=0;i<r.length;i++){var o=l(r[i]).find(\"textarea\"),a=o.data(\"codepad-type\"),s=this.editors[a]=c.fromTextArea(o[0],n);s.setOption(\"mode\",d.getMode(a,\"\",t)),s.$textarea=o,s.on(\"change\",this.editorChange({type:a}))}this.listenTo(e,\"reseted\",this.update)}editorChange(t){return()=>{var e=this.editors[t.type];e.$textarea.val(e.getValue()),e.$textarea.trigger(\"change\")}}update(e){var r,i=this.coder.getCodes();for(r in this.editors){let e=this.editors[r],t=i[r],n;n=o.isString(t)?t:t.content||\"\",e.setValue(n)}}static get categoryName(){return\"edit\"}static get addonName(){return\"codemirror\"}}return n.register(t),n}),define(\"skylark-widgets-codepad/addons/edit/ace\",[\"skylark-langx/langx\",\"skylark-domx-data\",\"skylark-ace\",\"../../addon\",\"../../util\",\"../../codepad\"],function(c,d,u,e,m,t){\"use strict\";class n extends e{_init(){super._init();for(var e=this.coder,t=(this.options,this.editors={},this.options),n=e.$(\".codepad-editor\"),r=0;r<n.length;r++){var i=n[r].querySelector(\"textarea\"),o=d.data(i,\"codepad-type\"),a=d.data(i,\"codepad-file\"),s=document.createElement(\"div\"),s=(n[r].appendChild(s),this.editors[o]=u.edit(s)),l=c.clone(t);s.getSession().setMode(\"ace/mode/\"+m.getMode(o,a)),s.getSession().setOptions(l),s.$blockScrolling=1/0,s.$textarea=i,s.on(\"change\",this.editorChange({type:o}))}this.listenTo(e,\"reseted\",this.update),this.update()}editorChange(t){return()=>{var e=this.editors[t.type];e.$textarea.val(e.getValue()),e.$textarea.trigger(\"change\")}}update(e){var r,i=this.coder.getCodes();for(r in this.editors){let e=this.editors[r],t=i[r],n;n=c.isString(t)?t:t.content||\"\",e.getSession().setValue(n)}}static get categoryName(){return\"edit\"}static get addonName(){return\"ace\"}}return n.register(t),n}),define(\"skylark-widgets-codepad/addons/general/console\",[\"skylark-langx/langx\",\"skylark-domx-styler\",\"../../addon\",\"../../util\",\"../../codepad\"],function(e,l,t,n,r){\"use strict\";class i extends t{get options(){return{autoClear:!1}}_init(){super._init();var e=this.coder,t=this.options,n=`(function ${this.capture.toString()})();`,r=document.createElement(\"li\"),i=(l.addClass(r,\"codepad-nav-item codepad-nav-item-console\"),r.innerHTML='<a href=\"#\" data-codepad-type=\"console\">JS Console</a>',document.createElement(\"div\")),i=(l.addClass(i,\"codepad-pane codepad-pane-console\"),i.innerHTML=`\n              <div class=\"codepad-console-container\">\n                <ul class=\"codepad-console-output\"></ul>\n                <form class=\"codepad-console-input\">\n                  <input type=\"text\">\n                </form>\n              </div>\n              <button class=\"codepad-button codepad-console-clear\">Clear</button>\n            `,e._velm.append(i),e._velm.find(\".codepad-nav\").append(r),e.$container.querySelector(\".codepad-console-container\")),r=e.$container.querySelector(\".codepad-console-output\"),o=e.$container.querySelector(\".codepad-console-input input\"),a=e.$container.querySelector(\".codepad-console-input\"),s=e.$container.querySelector(\".codepad-console-clear\");a.addEventListener(\"submit\",this.submit.bind(this)),o.addEventListener(\"keydown\",this.history.bind(this)),s.addEventListener(\"click\",this.clear.bind(this)),!0===t.autoClear&&e.on(\"change\",this.autoClear.bind(this),29),e.on(\"change\",this.change.bind(this),30),window.addEventListener(\"message\",this.getMessage.bind(this)),this.$coderContainer=e.$container,this.$container=i,this.$input=o,this.$output=r,this.history=[],this.historyIndex=0,this.logCaptureSnippet=n,this.contentCache={html:\"\",css:\"\",js:\"\"},this.getIframe=this.getIframe.bind(this)}getIframe(){return this.$coderContainer.querySelector(\".codepad-pane-result iframe\")}getMessage(e){if(e.source===this.getIframe().contentWindow){var t={};try{t=JSON.parse(e.data)}catch(e){}\"codepad-console-log\"===t.type&&this.log(t.message)}}autoClear(e,t){var n=e.content;\"js\"===e.type&&(n=n.replace(this.logCaptureSnippet,\"\")),!0!==e.forceRender&&this.contentCache[e.type]===n||this.clear(),this.contentCache[e.type]=n}change(e){e=e.data;\"js\"===e.type&&-1===e.content.indexOf(this.logCaptureSnippet)&&(e.content=\"\"+this.logCaptureSnippet+e.content)}capture(){void 0!==window.console&&void 0!==window.console.log||(window.console={log:function(){}});var e=Function.prototype.bind.call(window.console.log,window.console);window.console.log=function(){[].slice.call(arguments).forEach(function(e){window.parent.postMessage(JSON.stringify({type:\"codepad-console-log\",message:e}),\"*\")}),e.apply(e,arguments)}}log(e=\"\",t){var n=document.createElement(\"li\");l.addClass(n,\"codepad-console-log\"),void 0!==t&&l.addClass(n,\"codepad-console-log-\"+t),n.innerHTML=e,this.$output.appendChild(n)}submit(e){var t=this.$input.value.trim();if(\"\"===t)return e.preventDefault();this.history.push(t),this.historyIndex=this.history.length,this.log(t,\"history\"),0!==t.indexOf(\"return\")&&(t=\"return \"+t);try{var n=this.getIframe().contentWindow.eval(`(function() {${t}})()`);this.log(n)}catch(e){this.log(e,\"error\")}this.$input.value=\"\",this.$container.scrollTop=this.$container.scrollHeight,e.preventDefault()}clear(){this.$output.innerHTML=\"\"}history(e){var t=!1,n=this.$input.selectionStart;38===e.keyCode&&0!==this.historyIndex&&0===n&&(this.historyIndex--,t=!0),40===e.keyCode&&this.historyIndex!==this.history.length-1&&n===this.$input.value.length&&(this.historyIndex++,t=!0),t&&(this.$input.value=this.history[this.historyIndex])}static get categoryName(){return\"general\"}static get addonName(){return\"console\"}}return i.register(r),i}),define(\"skylark-widgets-codepad/addons/general/play\",[\"skylark-langx/langx\",\"skylark-domx-noder\",\"skylark-domx-eventer\",\"skylark-domx-query\",\"../../addon\",\"../../util\",\"../../codepad\"],function(t,e,n,r,i,o,a){class s extends i{get options(){return{firstRun:!0}}_init(){super._init();var e=this.coder,t={},n=(!1===this.options.firstRun&&(t={html:{type:\"html\",content:\"\"},css:{type:\"css\",content:\"\"},js:{type:\"js\",content:\"\"}}),r(\"<button/>\").prop({className:\"codepad-button codepad-button-play\",innerHTML:\"Run\"}));e.$().append(n),this.listenTo(n,\"click\",this.run),this.listenTo(e,\"changed\",this.update),this.cache=t,this.code={},this.coder=e}update(e){e=e.data;this.code[e.type]=t.clone(e),void 0!==this.cache[e.type]?this.cache[e.type].forceRender=null:this.cache[e.type]=t.clone(e)}run(){this.coder.emit(\"reseted\")}static get categoryName(){return\"general\"}static get addonName(){return\"play\"}}return s.register(a),s}),define(\"skylark-widgets-codepad/addons/general/pen\",[\"skylark-langx/langx\",\"../../addon\",\"../../util\",\"../../codepad\"],function(e,t,n,r){\"use strict\";class i extends t{_init(){super._init();var e,r,i,o,a=this.coder,s=(this.options,{html:{title:\"HTML\",classChecker:\"codepad-has-html\"},css:{title:\"CSS\",classChecker:\"codepad-has-css\"},js:{title:\"JavaScript\",classChecker:\"codepad-has-js\"},console:{title:\"Console\",classChecker:\"codepad-plugin-console\"}}),l=[];for(e in s)a.$container.classList.contains(s[e].classChecker)&&l.push(a.$container.querySelector(\".codepad-pane-\"+e));this.resizablePanes=[];for(let n=0;n<l.length;n++){let t;for(let e=0;e<l[n].classList.length;e++)if(-1!==l[n].classList[e].indexOf(\"codepad-pane-\")){t=l[n].classList[e].replace(\"codepad-pane-\",\"\");break}t&&(r={container:l[n],expander:void 0},this.resizablePanes.push(r),(i=document.createElement(\"div\")).classList.add(\"codepad-pane-title\"),i.innerHTML=s[t].title||t,(o=l[n].firstElementChild).insertBefore(i,o.firstChild),0<n)&&(r.expander=document.createElement(\"div\"),r.expander.classList.add(\"codepad-plugin-pen-expander\"),r.expander.addEventListener(\"mousedown\",this.startExpand.bind(this,a)),o.insertBefore(r.expander,i))}}startExpand(e,t){var n=this.resizablePanes.filter(e=>e.expander===t.target).shift(),r=this.resizablePanes[this.resizablePanes.indexOf(n)-1],i=100/parseInt(window.getComputedStyle(n.container.parentNode).width,10);n.container.parentNode.style.display=\"none\",n.startX=t.clientX,n.startWidth=parseFloat(window.getComputedStyle(n.container).width,10),r.startWidth=parseFloat(window.getComputedStyle(r.container).width,10),n.container.parentNode.style.display=\"\",n.mousemove=this.doDrag.bind(this,n,r,i),n.mouseup=this.stopDrag.bind(this,n),document.addEventListener(\"mousemove\",n.mousemove,!1),document.addEventListener(\"mouseup\",n.mouseup,!1)}doDrag(e,t,n,r){var i=t.startWidth+(r.clientX-e.startX)*n,r=e.startWidth-(r.clientX-e.startX)*n;10<=i&&10<=r&&(e.container.style.maxWidth=\"none\",t.container.style.maxWidth=\"none\",t.container.style.width=i+\"%\",e.container.style.width=r+\"%\")}stopDrag(e,t){document.removeEventListener(\"mousemove\",e.mousemove,!1),document.removeEventListener(\"mouseup\",e.mouseup,!1)}static get categoryName(){return\"general\"}static get addonName(){return\"pen\"}}return i.register(r),i}),define(\"skylark-widgets-codepad/addons/general/render\",[\"skylark-langx/langx\",\"skylark-domx-query\",\"../../addon\",\"../../util\",\"../../codepad\"],function(n,r,e,t,i){\"use strict\";class o extends e{get options(){return{html:{template:function(e){return`\n                          <!doctype html>\n                          <html>\n                            <head>\n                              <script>\n                                (function () {\n                                  window.addEventListener('DOMContentLoaded', function () {\n                                    window.parent.postMessage(JSON.stringify({\n                                      type: 'codepad-dom-ready'\n                                    }), '*')\n                                  })\n                                }())\n                              </script>\n\n                              <style>${e.css||\"\"}</style>\n                            </head>\n                            <body>\n                              ${e.html||\"\"}\n\n                              <!--\n                                CodeGround:\n                                Empty script tag prevents malformed HTML from breaking the next script.\n                              -->\n                              <script></script>\n                              <script>${e.js||\"\"}</script>\n                            </body>\n                          </html>\n                        `}}}}_init(){super._init();var e=this.coder,t=(this.options,!!(\"srcdoc\"in document.createElement(\"iframe\"))),n=e.$(\".codepad-pane-result iframe\");window.addEventListener(\"message\",this.domready.bind(this)),this.listenTo(e,\"changed\",this.update),this.supportSrcdoc=t,this.content={html:\"\",css:\"\",js:\"\"},this.frameContent=\"\",this.$resultFrame=n,this.callbacks=[],this.index=0,this.lastCallback=()=>{},this.update()}_render(e){var t;return this._renderHtml||(t=this.options.html.template,n.isString(t)?this._renderHtml=n.template(t):n.isFunction(t)&&(this._renderHtml=t)),this._renderHtml(e)}update(e){var t=this.frameContent,n=this.coder.getCodes();this.frameContent=this._render(n),this.lastCallback=()=>{this.lastCallback=()=>{}},this.frameContent!==t&&(this.supportSrcdoc?(n=document.createElement(\"iframe\"),this.$resultFrame.replaceWith(n),this.$resultFrame=r(n),n.contentWindow.document.open(),n.contentWindow.document.write(this.frameContent),n.contentWindow.document.close()):(this.$resultFrame.attr(\"data-srcdoc\",this.frameContent),this.$resultFrame.attr(\"src\",t='javascript:window.frameElement.getAttribute(\"data-srcdoc\");'),this.$resultFrame[0].contentWindow&&(this.$resultFrame[0].contentWindow.location=t)))}domready(e){if(e.source===this.$resultFrame[0].contentWindow){var t={};try{t=JSON.parse(e.data)}catch(e){}\"codepad-dom-ready\"===t.type&&this.lastCallback()}}static get categoryName(){return\"general\"}static get addonName(){return\"render\"}}return o.register(i),o}),define(\"skylark-widgets-codepad/main\",[\"./codepad\",\"./addons/edit/codemirror\",\"./addons/edit/ace\",\"./addons/general/console\",\"./addons/general/play\",\"./addons/general/pen\",\"./addons/general/render\"],function(e){return e}),define(\"skylark-widgets-codepad\",[\"skylark-widgets-codepad/main\"],function(e){return e});"]}